{"sandbox_archive_version":45,"resources":[{"default":[]},{"autogenerated":[]}],"resourceCart":[{"guid":[1101897418,2507817835,3094537286,1546502699],"name":"Local","parentGuid":[0,0,0,0],"type":"kGeneric","preload":false},{"guid":[20081327,3811722658,2346874489,3237291753],"name":"Global","parentGuid":[0,0,0,0],"type":"kGeneric","preload":false}],"mapdata":[{"ObjectsLinker":[{"class":"cWorkspace","name":"Archetypes","guid":[2301495294,1274365006,3003438828,1864040556],"spaceId":"kArchetypeSpace","objectType":0},{"class":"cPlayerInstance","name":"Local","guid":[821939657,2231651804,3205518288,3133023722],"spaceId":"kArchetypeSpace","objectType":0},{"class":"cBlackholeFolderObject","name":"Local","guid":[417325223,2932100337,2430726746,1418825083],"spaceId":"kArchetypeSpace","objectType":0},{"class":"cUiScreenUiObject","name":"ScreenGUI","guid":[2288685280,129189584,3004433564,697975946],"spaceId":"kArchetypeSpace","objectType":-842150451},{"class":"cUiFigureObject","name":"TouchFigure","guid":[2197565629,1415203114,2823922405,1734351976],"spaceId":"kArchetypeSpace","objectType":-842150451},{"class":"cScriptObject","name":"Script","guid":[994673966,4158342735,2276802114,1552768072],"spaceId":"kArchetypeSpace","objectType":0},{"class":"cUiButtonObject","name":"JumpButton","guid":[102160580,854410432,2549292484,1202403965],"spaceId":"kArchetypeSpace","objectType":-842150451},{"class":"cScriptObject","name":"Script","guid":[1268784625,3114224356,2978109736,848837611],"spaceId":"kArchetypeSpace","objectType":0},{"class":"cUiJoystickObject","name":"Joystick","guid":[214363713,4292497295,3028021729,2005335375],"spaceId":"kArchetypeSpace","objectType":-842150451},{"class":"cFolderObject","name":"C_Code","guid":[1988763669,642008485,3045610516,4157666106],"spaceId":"kArchetypeSpace","objectType":0},{"class":"cScriptObject","name":"PlayerControlScript","guid":[1560065165,549536527,2196214773,3289613067],"spaceId":"kArchetypeSpace","objectType":0},{"class":"cScriptObject","name":"PlayerMain","guid":[1590936490,2974695715,2831162716,2733380204],"spaceId":"kArchetypeSpace","objectType":0},{"class":"cCamera","name":"GameCamera","guid":[759347957,2245412439,2215380327,3955432270],"spaceId":"kArchetypeSpace","objectType":0},{"class":"cNodeObject","name":"localPlayer","guid":[2229867806,259017539,2476631306,1972820229],"spaceId":"kArchetypeSpace","objectType":0},{"class":"cPlayerInstance","name":"Player","guid":[3921698427,2579318821,3172122006,1001323442],"spaceId":"kArchetypeSpace","objectType":-220201056},{"class":"cPlayerAvatarInstance","name":"Avatar","guid":[2086577372,1035157785,2412732698,2224839101],"spaceId":"kArchetypeSpace","objectType":0},{"class":"cBoneAnchor","name":"Bone_Head","guid":[1952377286,2257011431,2235437585,1990350708],"spaceId":"kArchetypeSpace","objectType":0},{"class":"cBoneAnchor","name":"Bone_R_Hand","guid":[1365265308,2584495651,3179854900,2314059387],"spaceId":"kArchetypeSpace","objectType":0},{"class":"cBoneAnchor","name":"Bone_L_Hand","guid":[1001141281,105596195,2413995681,1572381856],"spaceId":"kArchetypeSpace","objectType":0},{"class":"cBoneAnchor","name":"Bone_Pelvis","guid":[3930266631,3765193548,2657671196,2444667291],"spaceId":"kArchetypeSpace","objectType":0},{"class":"cBoneAnchor","name":"Bone_R_Foot","guid":[1011560467,1551582414,3132691223,44035332],"spaceId":"kArchetypeSpace","objectType":0},{"class":"cBoneAnchor","name":"Bone_L_Foot","guid":[3538847244,808075570,2480843790,1198870357],"spaceId":"kArchetypeSpace","objectType":0},{"class":"cUiSurfaceUiObject","name":"NameGUI","guid":[1405111285,2384023431,3182972373,2500518680],"spaceId":"kArchetypeSpace","objectType":0},{"class":"cUiTextObject","name":"NameBar","guid":[3515521018,3624552389,2321875400,3242185261],"spaceId":"kArchetypeSpace","objectType":-842150451},{"class":"cScriptObject","name":"Script","guid":[3648344019,2319469073,2373482710,1056499623],"spaceId":"kArchetypeSpace","objectType":0},{"class":"cUiSurfaceUiObject","name":"HealthGUI","guid":[1362459126,1156792341,2681269783,824873225],"spaceId":"kArchetypeSpace","objectType":0},{"class":"cUiImageObject","name":"BackGround","guid":[2692120497,1768836605,2660612515,4269796384],"spaceId":"kArchetypeSpace","objectType":-842150451},{"class":"cUiImageObject","name":"Health","guid":[3177680961,308758981,2341371969,3691269346],"spaceId":"kArchetypeSpace","objectType":-842150451},{"class":"cScriptObject","name":"Script","guid":[4158487454,792609324,3178147409,2519421303],"spaceId":"kArchetypeSpace","objectType":0},{"class":"cFolderObject","name":"C_Event","guid":[2292071358,1506495263,2198482554,1903889976],"spaceId":"kArchetypeSpace","objectType":0},{"class":"cCustomEventObject","name":"ClientExample01Event","guid":[2692906001,400442409,2471841936,3656382497],"spaceId":"kArchetypeSpace","objectType":0},{"class":"cCustomEventObject","name":"ClientExample02Event","guid":[4280271411,1924088491,2838919974,2621789847],"spaceId":"kArchetypeSpace","objectType":0},{"class":"cCustomEventObject","name":"ClientExample03Event","guid":[1505293026,2520205713,2880716936,3351337845],"spaceId":"kArchetypeSpace","objectType":0},{"class":"cCustomEventObject","name":"StartAnimationEvent","guid":[1824764229,1360481778,3122932367,3039676128],"spaceId":"kArchetypeSpace","objectType":0},{"class":"cCustomEventObject","name":"AnimationStateEvent","guid":[789045127,61556465,3150371296,2498448214],"spaceId":"kArchetypeSpace","objectType":0}],"ObjectsData":[{"class":"cWorkspace","name":"Archetypes","guid":[2301495294,1274365006,3003438828,1864040556],"parentGuid":[0,0,0,0],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"Archetypes"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":10,"class":"sWorkspaceComponent","data":{}},{"id":11,"class":"sConfigPhysicsComponent","data":{"m_collisionGroupMaskFlags":[0,3,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}}]},{"class":"cPlayerInstance","name":"Local","guid":[821939657,2231651804,3205518288,3133023722],"parentGuid":[2301495294,1274365006,3003438828,1864040556],"components":[{"id":0,"class":"sRegularTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"Local"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":10,"class":"sRigidBodyComponent","data":{"m_isStatic":false,"m_density":1000.0,"m_frictionRate":0.0,"m_rough":0.0,"m_restitution":0.0,"m_freezeRotation":true,"m_gravityScale":2.0}},{"id":20,"class":"sCharacterControllerComponent","data":{"m_jumpUpVelocity":9.800000190734864}},{"id":40,"class":"sCharacterStateComponent","data":{"m_respawnTime":3.0,"m_avatar":[2086577372,1035157785,2412732698,2224839101],"m_displayName":true}},{"id":50,"class":"sRenderComponent","data":{}},{"id":60,"class":"sNetworkComponent","data":{}},{"id":666,"class":"sStateSyncComponent","data":{"m_syncRotation":[0.0,0.0,0.0,1.0],"m_distrSimVersion":0}}]},{"class":"cBlackholeFolderObject","name":"Local","guid":[417325223,2932100337,2430726746,1418825083],"parentGuid":[821939657,2231651804,3205518288,3133023722],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"Local"}},{"id":40000,"class":"sScriptHelperComponent","data":{}}]},{"class":"cUiScreenUiObject","name":"ScreenGUI","guid":[2288685280,129189584,3004433564,697975946],"parentGuid":[417325223,2932100337,2430726746,1418825083],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"ScreenGUI"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":20,"class":"sRenderComponent","data":{}},{"id":26,"class":"sUiScreenUiComponent","data":{"m_widgetSize":[1920.0,1080.0],"m_order":1,"m_pivot":[0.0,0.0],"m_anchorsX":[0.0,0.0],"m_anchorsY":[0.0,0.0],"m_anchor":"kAlignBottomLeft","m_anchorPercent":[0.0,0.0],"m_alignment":"kAlignBottomLeft","m_alignmentPercent":[0.0,0.0],"m_preSize":[1294.0,701.0]}}]},{"class":"cUiFigureObject","name":"TouchFigure","guid":[2197565629,1415203114,2823922405,1734351976],"parentGuid":[2288685280,129189584,3004433564,697975946],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"TouchFigure"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":20,"class":"sRenderComponent","data":{}},{"id":24,"class":"sUiFigureComponent","data":{"m_addedSize":[200.0,200.0],"m_widgetSize":[2200.0,1283.462158203125],"m_order":1,"m_pivot":[0.0,0.0],"m_anchorsX":[0.0,1.0],"m_anchorsY":[0.0,1.0],"m_anchor":"kAlignBottomLeft","m_anchorPercent":[0.0,0.0],"m_alignment":"kAlignBottomLeft","m_alignmentPercent":[0.0,0.0],"m_preSize":[2206.80078125,1372.6337890625],"m_prePivot":[0.0,0.0],"m_preAnchorsX":[0.0,1.0],"m_preAnchorsY":[0.0,1.0],"m_finalSize":[2200.0,1283.462158203125],"m_autoScale":true,"m_autoScaleType":"ByParentScale","m_bgColor":[1.0,1.0,1.0,0.0],"m_borderColor":[0.0,0.0,0.0,0.0]}}]},{"class":"cScriptObject","name":"Script","guid":[994673966,4158342735,2276802114,1552768072],"parentGuid":[2197565629,1415203114,2823922405,1734351976],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"Script"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":10,"class":"sLuaComponent","data":{"m_luaContent":"local TouchNumber = 0\r\n\r\nlocal function CameraMove(pos, dis, deltapos, speed)\r\n    local Camera = world.CurrentCamera\r\n    if ((Camera.CameraMode == 1 and Camera.Distance > 0) or Camera.CameraMode == 5) and TouchNumber == 1 then\r\n        Camera:CameraMove(deltapos)\r\n    elseif\r\n        ((Camera.CameraMode == 1 and Camera.Distance < 0) or Camera.CameraMode == 2 or Camera.CameraMode == 3) and\r\n            TouchNumber == 1\r\n     then\r\n        localPlayer:RotateAround(localPlayer.Position, Camera.UpVector, deltapos.x)\r\n        Camera:CameraMove(Vector2(0, deltapos.y))\r\n    end\r\nend\r\n\r\nlocal function CameraZoom(pos1, pos2, dis, speed)\r\n    if world.CurrentCamera.CameraMode == 1 then\r\n        world.CurrentCamera.Distance = world.CurrentCamera.Distance - dis / 50\r\n    end\r\nend\r\n\r\nlocal function CountTouch(container)\r\n    TouchNumber = #container\r\nend\r\n\r\nscript.Parent.OnPanStay:Connect(CameraMove)\r\nscript.Parent.OnPinchStay:Connect(CameraZoom)\r\nscript.Parent.OnTouched:Connect(CountTouch)\r\n"}}]},{"class":"cUiButtonObject","name":"JumpButton","guid":[102160580,854410432,2549292484,1202403965],"parentGuid":[2288685280,129189584,3004433564,697975946],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"JumpButton"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":20,"class":"sRenderComponent","data":{}},{"id":26,"class":"sUiButtonComponent","data":{"m_addedSize":[200.0,200.0],"m_widgetSize":[200.0,200.0],"m_order":1,"m_pivot":[0.0,0.0],"m_anchorsX":[0.8500000238418579,0.8500000238418579],"m_anchorsY":[0.10000000149011612,0.10000000149011612],"m_anchor":"kAlignBottomLeft","m_anchorPercent":[0.0,0.0],"m_alignment":"kAlignBottomRight","m_alignmentPercent":[1.0,0.0],"m_preSize":[202.24752807617188,202.24752807617188],"m_acceptRaycastWhenEdit":true,"m_prePivot":[0.0,0.0],"m_preAnchorsX":[0.8500000238418579,0.8500000238418579],"m_preAnchorsY":[0.10000000149011612,0.10000000149011612],"m_finalSize":[200.0,200.0],"m_autoScale":true,"m_autoScaleType":"ByParentDiagonal","m_image":{"m_guid":[1381378012,3623568531,2182762728,2959803675],"m_revision":0,"m_type":"kTexture","m_autoGenerated":false},"m_imageColor":[1.0196077823638917,1.0196077823638917,1.0196077823638917,1.0],"m_text":"button","m_averageColor":[0.20000000298023225,0.20000000298023225,0.20000000298023225,0.5960784554481506],"m_averageColorReciprocal":[5.0,5.0,5.0,1.6776314973831177],"m_hoverImage":{"m_guid":[0,0,0,0],"m_revision":-1,"m_type":"kGeneric","m_autoGenerated":false},"m_pressedImage":{"m_guid":[0,0,0,0],"m_revision":-1,"m_type":"kGeneric","m_autoGenerated":false},"m_disabledImage":{"m_guid":[0,0,0,0],"m_revision":-1,"m_type":"kGeneric","m_autoGenerated":false}}}]},{"class":"cScriptObject","name":"Script","guid":[1268784625,3114224356,2978109736,848837611],"parentGuid":[102160580,854410432,2549292484,1202403965],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"Script"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":10,"class":"sLuaComponent","data":{"m_luaContent":"-- script\r\nlocal function Jump()\r\n    if localPlayer.IsOnGround and localPlayer.State ~= Enum.CharacterState.Died then\r\n        localPlayer:Jump()\r\n    end\r\nend\r\n\r\nscript.Parent.OnClick:Connect(Jump)\r\n"}}]},{"class":"cUiJoystickObject","name":"Joystick","guid":[214363713,4292497295,3028021729,2005335375],"parentGuid":[2288685280,129189584,3004433564,697975946],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"Joystick"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":20,"class":"sRenderComponent","data":{}},{"id":30,"class":"sUiJoystickComponent","data":{"m_widgetSize":[300.0,300.0],"m_order":2,"m_pivot":[0.0,0.0],"m_anchorsX":[0.10000000149011612,0.10000000149011612],"m_anchorsY":[0.10000000149011612,0.10000000149011612],"m_anchor":"kAlignTopLeft","m_anchorPercent":[0.0,0.0],"m_alignment":"kAlignBottomLeft","m_alignmentPercent":[0.0,0.0],"m_preSize":[303.37127685546877,303.37127685546877],"m_prePivot":[0.0,0.0],"m_preAnchorsX":[0.10000000149011612,0.10000000149011612],"m_preAnchorsY":[0.10000000149011612,0.10000000149011612],"m_finalSize":[300.0,300.0],"m_autoScale":true,"m_autoScaleType":"ByParentDiagonal","m_threshold":0.10000000149011612,"m_workArea":[230.61419677734376,230.61419677734376],"m_backGround":{"m_guid":[1676341669,384255279,2994375601,539764901],"m_revision":0,"m_type":"kTexture","m_autoGenerated":false},"m_handle":{"m_guid":[1309922238,2547074866,2257169120,2540834883],"m_revision":0,"m_type":"kTexture","m_autoGenerated":false},"m_arrow":{"m_guid":[3072216954,3382394894,3198588415,2980353886],"m_revision":0,"m_type":"kTexture","m_autoGenerated":false},"m_normalized":true}}]},{"class":"cFolderObject","name":"C_Code","guid":[1988763669,642008485,3045610516,4157666106],"parentGuid":[417325223,2932100337,2430726746,1418825083],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"C_Code"}},{"id":40000,"class":"sScriptHelperComponent","data":{}}]},{"class":"cScriptObject","name":"PlayerControlScript","guid":[1560065165,549536527,2196214773,3289613067],"parentGuid":[1988763669,642008485,3045610516,4157666106],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"PlayerControlScript"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":10,"class":"sLuaComponent","data":{"m_luaContent":"local Player = localPlayer.Player\r\nlocal Client = localPlayer\r\nlocal GUI = Client.Local.ScreenGUI\r\nlocal Joystick = GUI.Joystick\r\n\r\nworld.CurrentCamera = Client.Local.GameCamera\r\nlocal Camera = world.CurrentCamera\r\nlocal Mode = Camera.CameraMode\r\nCamera.LookAt = Player\r\n\r\nlocal ForwardKey = Enum.KeyCode.W\r\nlocal BackKey = Enum.KeyCode.S\r\nlocal LeftKey = Enum.KeyCode.A\r\nlocal RightKey = Enum.KeyCode.D\r\nlocal JumpKey = Enum.KeyCode.Space\r\n\r\nlocal MoveForward = 0\r\nlocal MoveBack = 0\r\nlocal MoveLeft = 0\r\nlocal MoveRight = 0\r\n\r\n--获取按键盘时的移动方向最终取值\r\nlocal function GetMovement()\r\n\tMoveForward = Input.GetPressKeyData(ForwardKey) > 0 and 1 or 0\r\n\tMoveBack = Input.GetPressKeyData(BackKey) > 0 and -1 or 0\r\n\tMoveLeft = Input.GetPressKeyData(LeftKey) > 0 and 1 or 0\r\n\tMoveRight = Input.GetPressKeyData(RightKey) > 0 and -1 or 0\r\n\tif Player.State == Enum.CharacterState.Died then\r\n\t\tMoveForward = 0\r\n\t\tMoveBack = 0\r\n\t\tMoveLeft = 0\r\n\t\tMoveRight = 0\r\n\tend\r\nend\r\n\r\n--移动逻辑\r\nlocal function Move(Dir)\r\n\tDir.y = 0\r\n\tif Player.State == Enum.CharacterState.Died then\r\n\t\tDir = Vector2.Zero\r\n\tend\r\n\tif Dir.Magnitude > 0 then\r\n\t\tif Mode == Enum.CameraMode.Social and Camera.Distance >= 0 or Mode == Enum.CameraMode.Custom then\r\n\t\t\tPlayer:FaceToDir(Dir, 4 * math.pi)\r\n\t\tend\r\n\t\tPlayer:MoveTowards(Vector2(Dir.x, Dir.z).Normalized)\r\n\telse\r\n\t\tPlayer:MoveTowards(Vector2.Zero)\r\n\tend\r\nend\r\n\r\n--玩家死亡时的逻辑\r\nlocal function PlayerDie()\r\n\tPlayer:MoveTowards(Vector2.Zero)\r\n\tPlayer:Die()\r\n\tlocal RespawnTime = Player.RespawnTime\r\n\twait(RespawnTime)\r\n\tPlayer:Reset()\r\nend\r\n\r\n--每个渲染帧处理操控逻辑\r\nlocal function MainControl()\r\n\tif Player.Health <= 0 then\r\n\t\tPlayer:Die()\r\n\t\treturn\r\n\tend\r\n\tif Input.GetPressKeyData(JumpKey) > 0 then\r\n\t\tif Player.IsOnGround and Player.State ~= Enum.CharacterState.Died then\r\n\t\t\tPlayer:Jump()\r\n\t\t\treturn\r\n\t\tend\r\n\tend\r\n\tCamera = world.CurrentCamera\r\n\tMode = Camera.CameraMode\r\n\tlocal Forward =\r\n\t\t(Mode == Enum.CameraMode.Social and Camera.Distance >= 0 or Mode == Enum.CameraMode.Custom) and Camera.Forward or\r\n\t\tPlayer.Forward\r\n\tForward.y = 0\r\n\tlocal Right = Vector3.Up:Cross(Forward)\r\n\tlocal Horizontal = Joystick.Horizontal\r\n\tlocal Vertical = Joystick.Vertical\r\n\tlocal Dir = Vector3.Zero\r\n\tif Horizontal ~= 0 or Vertical ~= 0 then\r\n\t\tDir = Right * Horizontal + Forward * Vertical\r\n\telse\r\n\t\tGetMovement()\r\n\t\tDir = Forward * (MoveForward + MoveBack) - Right * (MoveLeft + MoveRight)\r\n\tend\r\n\tMove(Dir)\r\nend\r\n\r\nPlayer.OnDead:Connect(PlayerDie)\r\nworld.OnRenderStepped:Connect(MainControl)\r\n"}}]},{"class":"cScriptObject","name":"PlayerMain","guid":[1590936490,2974695715,2831162716,2733380204],"parentGuid":[1988763669,642008485,3045610516,4157666106],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"PlayerMain"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":10,"class":"sLuaComponent","data":{"m_luaContent":"--- 客户端代码入口\r\n-- @script Client Main Function\r\n-- @copyright Lilith Games, Avatar Team\r\n-- @author XXX, XXX\r\n\r\nPlayerMgr:Init()\r\n"}}]},{"class":"cCamera","name":"GameCamera","guid":[759347957,2245412439,2215380327,3955432270],"parentGuid":[417325223,2932100337,2430726746,1418825083],"components":[{"id":0,"class":"sRegularTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"GameCamera"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":10,"class":"sCameraComponent","data":{"m_viewPortHeight":701,"m_viewPortWidth":1338,"m_nearClip":0.029999999329447748}},{"id":11,"class":"sRenderComponent","data":{}},{"id":20,"class":"sCameraBehaviorComponent","data":{"m_cameraMaxZoomDistance":50.0}},{"id":30,"class":"sAudioListenerComponent","data":{}}]},{"class":"cNodeObject","name":"localPlayer","guid":[2229867806,259017539,2476631306,1972820229],"parentGuid":[2301495294,1274365006,3003438828,1864040556],"components":[{"id":0,"class":"sFullTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"localPlayer"}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":3,"class":"sNetworkComponent","data":{}}]},{"class":"cPlayerInstance","name":"Player","guid":[3921698427,2579318821,3172122006,1001323442],"parentGuid":[2229867806,259017539,2476631306,1972820229],"components":[{"id":0,"class":"sRegularTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"Player"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":10,"class":"sRigidBodyComponent","data":{"m_isStatic":false,"m_density":1000.0,"m_frictionRate":0.0,"m_rough":0.0,"m_restitution":0.0,"m_freezeRotation":true}},{"id":20,"class":"sCharacterControllerComponent","data":{"m_NPCController":true}},{"id":40,"class":"sCharacterStateComponent","data":{"m_displayName":true,"m_isNpc":true}},{"id":50,"class":"sRenderComponent","data":{}},{"id":60,"class":"sNetworkComponent","data":{}},{"id":666,"class":"sStateSyncComponent","data":{"m_syncRotation":[0.0,0.0,0.0,1.0],"m_distrSimVersion":0}}]},{"class":"cPlayerAvatarInstance","name":"Avatar","guid":[2086577372,1035157785,2412732698,2224839101],"parentGuid":[3921698427,2579318821,3172122006,1001323442],"components":[{"id":0,"class":"sRegularTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"Avatar"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":10,"class":"sPlayerModelInstanceComponent","data":{"m_head":{"attriValue":"DefaultMale","valueList":["DefaultMale","Male_Head2","Male_Head3"]},"m_clothes":{"attriValue":"DefaultMale","valueList":["DefaultMale","Male_Chest_TshirtShort_A001","Male_Chest_TshirtShort_A002","Male_Chest_TshirtShort_A003","Male_Chest_TshirtShort_A004","Male_Chest_TshirtShort_A005","Male_Chest_TshirtShort_A006","Male_Chest_TshirtShort_A007","Male_Chest_TshirtShort_A008","Male_Chest_TshirtShort_A009","Male_Chest_TshirtShort_A010","Male_Chest_SweaterLong_A001","Male_Chest_SweaterLong_A002","Male_Chest_SweaterLong_A003","Male_Chest_SweaterLong_A004","Male_Chest_SweaterLong_A005","Male_Chest_SweaterLong_A006","Male_Chest_SweaterLong_A007","Male_Chest_SweaterLong_A008","Male_Chest_SweaterLong_A009","Male_Chest_SweaterLong_A010","Male_Chest_SweaterLong_A011","Male_Chest_SweaterLong_A012","Male_001Jacket","Male_Jacket_Leis01","RedJacket","Male_Jacket_Leis02","Male_Jacket_Leis03","Male_006Jacket","Male_007Jacket","Male_008Tshirt","Male_009Jacket","Male_010Tshirt","Male_011Tshirt","Male_012Jacket","Male_Chest_Robe_India_001","Male_Chest_JacketIndiaSilk_001","Male_AviatorJacket","Male_MexicJacket","Male_SpaceJacket","Male_BaseballJacket","Male_UniverJacket","Male_UniverJacket_01","Male_OwlJacket","Male_Chest_ArmorGriffin_001","Unisex_Chest_ArmorIron_001","Male_WendigoJacket","Male_NutJacket","Male_Chest_UniformPolice_001","Male_Chest_TshitSki_001","Male_Chest_JacketRobtDog_001","Male_Chest_MuscleSuitShark_001","Male_Chest_MuscleSuitShark_002","Male_Chest_TshirtWaste_001","Male_Chest_JacketBiker_001","Male_Chest_TshirtSteam_001","Male_Chest_JacketRobtEva_001","Male_Chest_JacketRobtEva_002","Male_Chest_JacketAI_001","Male_Chest_TshirtCowboy_001","Male_Zombies01Tshirt","Male_Zombies03Jacket","Male_Zombies04Tshirt","Male_Zombies06Jacket"]},"m_trousers":{"attriValue":"DefaultMale","valueList":["DefaultMale","Male_Jeans01Trousers","Male_Leis01Trousers","Male_003Trousers","Male_Leis01Pants","Male_Leis03Trousers","Male_006Trousers","Male_007Trousers","Male_008Trousers","Male_009Trousers","Male_010Trousers","Male_011Trousers","Male_012Pants","Male_Leg_Pants_India_001","Male_Leg_TrousersIndiaSilk_001","Male_AviatorTrousers","Male_MexicTrousers","Male_SpaceTrousers","Male_BaseballTrousers","Male_UniverTrousers","Male_UniverTrousers_01","Male_OwlTrousers","Male_Leg_ArmorGriffin_001","Male_Leg_ArmorIron_001","Male_WendigoTrousers","Male_NutTrousers","Male_Leg_PantsLPolice_001","Male_Leg_PantsLSki_001","Male_Leg_PantsLRobtDog_001","Male_Leg_PantsShark_001","Male_Leg_PantsShark_002","Male_Leg_TrousersWaste_001","Male_Leg_TrousersBiker_001","Male_Leg_TrousersSteam_001","Male_Leg_PantsLRobtEva_001","Male_Leg_PantsLRobtEva_002","Male_Leg_PantsLAI_001","Male_Leg_TrousersCowboy_001","Male_Zombies01Pants","Male_Zombies03Trousers","Male_Zombies04Trousers","Male_Zombies06Trousers"]},"m_hair":{"attriValue":"DefaultMale","valueList":["DefaultMale","Hair_Brown01M","Hair_Blonde01M","Hair_Blonde02M","Hair_Orange01M","Hair_White01M","Hair_Green01M","Male_Head_Hair_015","Male_Head_Hair_014","Male_Head_Hair_028","Hair_Zombies06_M"]},"m_hands":{"attriValue":"DefaultMale","valueList":["DefaultMale","Male_GLeather01","Male_AviatorGloves","Male_SpaceGloves","Male_BaseballGloves","Male_UniverGloves","Male_UniverGloves_01","Male_OwlGloves","Unisex_Hand_GlovesGriffin_001","Unisex_Hand_GlovesIron_001","Male_WendigoGloves","Unisex_Hand_GlovesSki_001","Unisex_Hand_GlovesRobtDog_001","Male_Hand_GlovesBiker_001","Unisex_Hand_GlovesRobtEva_001","Unisex_Hand_GlovesRobtEva_002","Unisex_Hand_GlovesAI_001","Male_Hand_GlovesSteam_001"]},"m_shoes":{"attriValue":"DefaultMale","valueList":["DefaultMale","LeatherShoe","Male_Leis01Shoes","Unisex_Feet_CanvasShoes_A001","Unisex_Feet_CanvasShoes_A002","Unisex_Feet_CanvasShoes_A003","Unisex_Feet_CanvasShoes_A004","Unisex_Feet_CanvasShoes_A005","Unisex_Feet_CanvasShoes_A006","Unisex_Feet_CanvasShoes_A007","Unisex_Feet_CanvasShoes_A008","Unisex_Feet_CanvasShoes_A009","Unisex_Feet_CanvasShoes_A010","Male_003Shoes","Male_BLeather01","Male_Leis03Shoes","Male_006Shoes","Male_007Shoes","Male_008Shoes","Male_009Shoes","Unisex_Feet_BasketballShoes_003","Male_010Shoes","Male_011Boots","Male_012Boots","Male_Feet_Shoes_India_001","Male_Feet_ShoesIndiaSilk_001","Male_AviatorShoes","Male_MexicBoots","Male_SpaceBoots","Male_BaseballShoes","Male_UniverShoes","Male_UniverShoes_01","Male_OwlBoots","Unisex_Feet_ShoesGriffin_001","Unisex_Feet_ShoesIron_001","Male_WendigoShoes","Male_NutBoots","Unisex_Feet_ShoesPolice_001","Unisex_Feet_BootsSki_001","Unisex_Feet_ShoesSki_001","Male_Feet_ShoesRobtDog_001","Unisex_Feet_SlippersShark_001","Male_Feet_BootsWaste_001","Male_Feet_BootsBiker_001","Male_Feet_BootsSteam_001","Unisex_Feet_ShoesRobtEva_001","Unisex_Feet_ShoesRobtEva_002","Unisex_Feet_ShoesAI_001","Male_Feet_BootsCowboy_001","Male_Zombies01Shoes","Male_Zombies03Boots","Male_Zombies04Boots","Male_Zombies06Shoes"]},"m_face":{"attriValue":"DefaultMale","valueList":["DefaultMale","Male_test1","Male_test2","Male_test3","Male_test5","Male_test6","Male_test7","Male_test8","Male_test9","Male_test10","Male_test11","Male_test12","Zombies_test1","Zombies_test2","Zombies_test3","Zombies_test4","Zombies_test5","Zombies_test6"]},"m_skinColor":{"attriValue":"DefaultMale","valueList":["DefaultMale","Color2","Color3","Color4","Color5","Color6","Color7","Color8","Color9","Color10","Color11","Color12","Color13"]},"m_headAccessory":{"attriValue":"Empty_Head","valueList":["Empty_Head","Male_ComHat_001","Male_ComHat003","Male_ComHat004","Male_ComHat005","Male_ComHat006","Male_ComHat007","Male_008Hat","Male_010Hat","Male_011Hat","Male_012Hat","Male_Head_ComHelmet_002","Male_ComHelmet003","Male_ComHelmet004","Male_ComHelmet005","Male_013Hat","Male_AviatorHat","Male_MexicHat","Male_SpaceHelmet","Male_Baseball01Hat","Male_Baseball02Hat","Male_UniverHelmet","Male_UniverHelmet_01","Male_Owl_Helmet","Male_Head_HelmetGriffin_001","Unisex_Head_HelmetIron_001","Male_Wendigo_Helmet","Male_Nut_Helmet","Unisex_Head_MaskPolice_001","Unisex_Head_CapPolice_001","Unisex_Head_CapSki_001","Male_Head_HelmetRobtDog_001","Male_Head_HelmetShark_001","Male_Head_HelmetBiker_001","Male_Head_HatSteam_001","Unisex_Head_HelmetRobtEva_001","Unisex_Head_HelmetRobtEva_002","Unisex_Head_HelmetAI_001","Male_Head_Hat_India_001","Male_Head_HelmetIndiaSilk_001","Male_Head_HelmetIndiaSilk_002","Male_Head_HatCowboy_001","Unisex_Head_JewelsMadMax_001","Male_Zombies01Hat","Male_Zombies03_Helmet","Male_Zombies04_Helmet","Male_Zombies06_Hat"]},"m_neckAccessory":{"attriValue":"Empty_Neck","valueList":["Empty_Neck","Male_AviatorScarf","Male_AviatorScarf_02","Male_AviatorScarf_03","Male_Zombies06_ChestSup","Unisex_Chest_LifeVest_01"]},"m_shouldersAccessory":{"attriValue":"Empty_Shoulders","valueList":["Empty_Shoulders"]},"m_legsAccessory":{"attriValue":"Empty_Legs","valueList":["Empty_Legs","Male_AviatorKneepad","Male_OwlKneepad","Unisex_Knee_PadGriffin_001","Unisex_Knee_PadIron_001","Unisex_Knee_PadPolice_001","Unisex_Knee_PadWaste_001","Unisex_Knee_PadBiker_001"]},"m_handsAccessory":{"attriValue":"Empty_Hands","valueList":["Empty_Hands","Watch","Male_010Wrist","Male_011Wrist","Male_SteamWrist","Male_IndiaSilkWrist"]},"m_bodyAccessory":{"attriValue":"Empty_Body","valueList":["Empty_Body","Male_009Bag","Male_012Bag","Female_Chest_Hobo_002","Male_AviatorBag","Male_MexicUkulele","Male_SpaceBag","Male_BaseballBag","Male_UniverBag","Male_WendigoBag","Unisex_Back_BackpackPolice_001","Unisex_Back_BackpackSki_001","Female_Back_BackpackSteam_001","Male_Zombies04Bag","Female_Zombies05Bag","Male_Zombies06Bag"]},"m_waistAccessory":{"attriValue":"","valueList":["Empty_Waist","LifeBuoy","Unisex_Pelvis_Lifebuoy_Duck_01","Unisex_Pelvis_Lifebuoy_Donut_01","Unisex_Pelvis_Lifebuoy_Donut_02","Unisex_Pelvis_Lifebuoy_Watermelon","Unisex_Pelvis_Lifebuoy_Tire","NutSabre","Male_Pelvis_Cowboy_GunBag"]},"m_specialAccessory":{"attriValue":"Empty_Special","valueList":["Empty_Special"]},"m_faceAccessory":{"attriValue":"","valueList":["Empty_Face","Glasses","Female_MadMax_Glasses","HeadSet"]},"m_wristAccessory":{"attriValue":"","valueList":["Empty_Wrist"]},"m_shoulderArmorAccessory":{"attriValue":"","valueList":["Empty_ShoulderArmor","Male_OwlShoulder","Male_Shoulder_ArmorGriffin_001","Unisex_Shoulder_ArmorIron_001","Male_WendigoShoulder","Unisex_Shoulder_ArmorWaste_001","Female_SteamShoulder","Male_RobtEvaShoulder","Male_RobtEvaShoulder_02","Male_AIShoulder"]},"m_chestArmorAccessory":{"attriValue":"","valueList":["Empty_ChestArmor","Male_BchestSup","Male_ComChestSup001","Male_ComChestSup002","Male_ComChestSup003"]},"m_upperArmGuardAccessory":{"attriValue":"","valueList":["Empty_UpperArmGuard","Male_BaseballGuard","Unisex_Elbow_PadsIron_001"]},"m_currentDress":"{\"boneSizeList\":[1.0,1.0,1.0],\"curDressList\":[\"DefaultMale\",\"DefaultMale\",\"DefaultMale\",\"DefaultMale\",\"DefaultMale\",\"DefaultMale\",\"DefaultMale\",\"DefaultMale\",\"Empty_Head\",\"Empty_Neck\",\"Empty_Shoulders\",\"Empty_Body\",\"Empty_Hands\",\"\",\"Empty_Legs\",\"Empty_Special\",\"\",\"\"],\"gender\":1,\"name\":\"CurrentDress\",\"ornamentsKeys\":[],\"ornamentsValues\":[],\"skinColor\":{\"a\":1.0,\"b\":0.5372549295425415,\"g\":0.6666666865348816,\"r\":0.9137254953384399}}"}},{"id":20,"class":"sAnimationComponent","data":{}},{"id":40,"class":"sRenderComponent","data":{}}]},{"class":"cBoneAnchor","name":"Bone_Head","guid":[1952377286,2257011431,2235437585,1990350708],"parentGuid":[2086577372,1035157785,2412732698,2224839101],"components":[{"id":0,"class":"sRegularTransform","data":{"m_localPosition":[-0.000001769229129422456,1.3431566953659058,-0.0498025007545948],"m_localRotation":[0.5163317322731018,-0.4831157624721527,-0.516330897808075,0.4831181466579437]}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"Bone_Head"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":10,"class":"sBoneAnchorComponent","data":{"m_boneName":"Bone_Head"}}]},{"class":"cBoneAnchor","name":"Bone_R_Hand","guid":[1365265308,2584495651,3179854900,2314059387],"parentGuid":[2086577372,1035157785,2412732698,2224839101],"components":[{"id":0,"class":"sRegularTransform","data":{"m_localPosition":[0.4200734794139862,0.8170105218887329,-0.030683334916830064],"m_localRotation":[-0.1410028040409088,0.020078247413039209,0.8559507131576538,0.4970548450946808]}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"Bone_R_Hand"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":10,"class":"sBoneAnchorComponent","data":{"m_boneName":"Bone_R_Hand"}}]},{"class":"cBoneAnchor","name":"Bone_L_Hand","guid":[1001141281,105596195,2413995681,1572381856],"parentGuid":[2086577372,1035157785,2412732698,2224839101],"components":[{"id":0,"class":"sRegularTransform","data":{"m_localPosition":[-0.4200744926929474,0.8170068860054016,-0.030686767771840097],"m_localRotation":[0.855949342250824,0.49705755710601809,-0.14100156724452973,0.02007945440709591]}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"Bone_L_Hand"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":10,"class":"sBoneAnchorComponent","data":{"m_boneName":"Bone_L_Hand"}}]},{"class":"cBoneAnchor","name":"Bone_Pelvis","guid":[3930266631,3765193548,2657671196,2444667291],"parentGuid":[2086577372,1035157785,2412732698,2224839101],"components":[{"id":0,"class":"sRegularTransform","data":{"m_localPosition":[8.050786846069968e-7,0.7860299348831177,-0.06750036031007767],"m_localRotation":[0.500001072883606,-0.5000002980232239,-0.49999892711639407,0.4999997019767761]}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"Bone_Pelvis"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":10,"class":"sBoneAnchorComponent","data":{"m_boneName":"Bone_Pelvis"}}]},{"class":"cBoneAnchor","name":"Bone_R_Foot","guid":[1011560467,1551582414,3132691223,44035332],"parentGuid":[2086577372,1035157785,2412732698,2224839101],"components":[{"id":0,"class":"sRegularTransform","data":{"m_localPosition":[0.15842826664447785,0.11951874941587448,-0.10738156735897064],"m_localRotation":[0.548750102519989,0.5487515926361084,0.445951908826828,0.44595056772232058]}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"Bone_R_Foot"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":10,"class":"sBoneAnchorComponent","data":{"m_boneName":"Bone_R_Foot"}}]},{"class":"cBoneAnchor","name":"Bone_L_Foot","guid":[3538847244,808075570,2480843790,1198870357],"parentGuid":[2086577372,1035157785,2412732698,2224839101],"components":[{"id":0,"class":"sRegularTransform","data":{"m_localPosition":[-0.15842396020889283,0.11951778084039688,-0.10738066583871842],"m_localRotation":[0.4459499716758728,0.4459512233734131,0.5487523078918457,0.5487504601478577]}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"Bone_L_Foot"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":10,"class":"sBoneAnchorComponent","data":{"m_boneName":"Bone_L_Foot"}}]},{"class":"cUiSurfaceUiObject","name":"NameGUI","guid":[1405111285,2384023431,3182972373,2500518680],"parentGuid":[3921698427,2579318821,3172122006,1001323442],"components":[{"id":0,"class":"sFullTransform","data":{"m_localPosition":[0.0,2.0,0.0]}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"NameGUI"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":20,"class":"sRenderComponent","data":{}},{"id":26,"class":"sUiSurfaceUiComponent","data":{"m_pivot":[0.0,0.0],"m_anchorsX":[0.0,0.0],"m_anchorsY":[0.0,0.0],"m_anchor":"kAlignBottomLeft","m_anchorPercent":[0.0,0.0],"m_alignment":"kAlignBottomLeft","m_alignmentPercent":[0.0,0.0],"m_preSize":[300.0,80.0],"m_billboard":true,"m_size":[300.0,80.0],"m_disappearDistance":50000,"m_originSize":[300.0,80.0]}}]},{"class":"cUiTextObject","name":"NameBar","guid":[3515521018,3624552389,2321875400,3242185261],"parentGuid":[1405111285,2384023431,3182972373,2500518680],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"NameBar"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":20,"class":"sRenderComponent","data":{}},{"id":23,"class":"sUiTextComponent","data":{"m_addedSize":[300.0,80.0],"m_widgetSize":[562.5,80.0],"m_order":1,"m_anchor":"kAlignBottomLeft","m_preSize":[562.5,80.0],"m_oldTreeLevelVersion":true,"m_finalSize":[300.0,80.0],"m_offset":[0.0,10.0],"m_preOffset":[0.0,10.0],"m_autoScale":true,"m_autoScaleType":"ByParentScale","m_text":"","m_textColor":[0.9764705896377564,0.9764705896377564,0.9764705896377564,1.0],"m_fontSize":20,"m_wrap":true}}]},{"class":"cScriptObject","name":"Script","guid":[3648344019,2319469073,2373482710,1056499623],"parentGuid":[1405111285,2384023431,3182972373,2500518680],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"Script"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":10,"class":"sLuaComponent","data":{"m_luaContent":"local Namebar = script.Parent.NameBar\r\nlocal NameGUI = script.Parent\r\nlocal HealthGUI = script.Parent.Parent.HealthGUI.Health\r\nlocal player = script.Parent.Parent\r\n\r\nwhile true do\r\n    Namebar:SetActive(player.DisplayName)\r\n    Namebar.Text = player.Name\r\n\r\n    if HealthGUI == nil or HealthGUI.ActiveSelf == false then\r\n        NameGUI.Position = player.Position + Vector3(0, 1 + player.Avatar.Height, 0)\r\n    else\r\n        NameGUI.Position = player.Position + Vector3(0, 1.1 + player.Avatar.Height, 0)\r\n    end\r\n    if Namebar:GetClosestTeam() ~= world.Players and Namebar:GetClosestTeam() ~= nil then\r\n        Namebar.Color = Namebar:GetClosestTeam().TeamColor\r\n    end\r\n    wait()\r\nend\r\n"}}]},{"class":"cUiSurfaceUiObject","name":"HealthGUI","guid":[1362459126,1156792341,2681269783,824873225],"parentGuid":[3921698427,2579318821,3172122006,1001323442],"components":[{"id":0,"class":"sFullTransform","data":{"m_localPosition":[0.0,2.0,0.0]}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"HealthGUI"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":20,"class":"sRenderComponent","data":{}},{"id":26,"class":"sUiSurfaceUiComponent","data":{"m_pivot":[0.0,0.0],"m_anchorsX":[0.0,0.0],"m_anchorsY":[0.0,0.0],"m_anchor":"kAlignBottomLeft","m_anchorPercent":[0.0,0.0],"m_alignment":"kAlignBottomLeft","m_alignmentPercent":[0.0,0.0],"m_preSize":[160.0,80.0],"m_billboard":true,"m_size":[160.0,80.0],"m_disappearDistance":50000,"m_originSize":[160.0,80.0]}}]},{"class":"cUiImageObject","name":"BackGround","guid":[2692120497,1768836605,2660612515,4269796384],"parentGuid":[1362459126,1156792341,2681269783,824873225],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"BackGround"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":20,"class":"sRenderComponent","data":{}},{"id":22,"class":"sUiImageComponent","data":{"m_addedSize":[160.0,31.0],"m_widgetSize":[160.0,31.0],"m_order":1,"m_pivot":[0.0,0.0],"m_anchorsX":[0.0,0.0],"m_anchorsY":[0.0,0.0],"m_anchor":"kAlignBottomLeft","m_anchorPercent":[0.0,0.0],"m_alignment":"kAlignBottomLeft","m_alignmentPercent":[0.0,0.0],"m_preSize":[160.0,31.0],"m_acceptRaycastWhenEdit":true,"m_prePivot":[0.0,0.0],"m_preAnchorsX":[0.0,0.0],"m_preAnchorsY":[0.0,0.0],"m_finalSize":[160.0,31.0],"m_offset":[-0.00000667572021484375,6.0],"m_preOffset":[-0.00000667572021484375,6.0],"m_imagePriSize":[136.0,28.0],"m_textureRef":{"m_guid":[2748549193,222842754,2941154731,726271496],"m_revision":0,"m_type":"kTexture","m_autoGenerated":false},"m_imageColor":[1.0,1.0,1.0,0.9555555582046509],"m_averageColor":[1.0,1.0,1.0,0.1764705926179886],"m_averageColorReciprocal":[1.0,1.0,1.0,5.666666507720947]}}]},{"class":"cUiImageObject","name":"Health","guid":[3177680961,308758981,2341371969,3691269346],"parentGuid":[1362459126,1156792341,2681269783,824873225],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"Health"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":20,"class":"sRenderComponent","data":{}},{"id":22,"class":"sUiImageComponent","data":{"m_addedSize":[143.0,15.0],"m_widgetSize":[143.0,15.0],"m_order":1,"m_pivot":[0.0,0.0],"m_anchorsX":[0.0,0.0],"m_anchorsY":[0.0,0.0],"m_anchor":"kAlignBottomLeft","m_anchorPercent":[0.0,0.0],"m_alignment":"kAlignBottomLeft","m_alignmentPercent":[0.0,0.0],"m_preSize":[143.0,15.0],"m_acceptRaycastWhenEdit":true,"m_prePivot":[0.0,0.0],"m_preAnchorsX":[0.0,0.0],"m_preAnchorsY":[0.0,0.0],"m_finalSize":[143.0,15.0],"m_offset":[8.5,14.0],"m_preOffset":[8.5,14.0],"m_imagePriSize":[124.0,16.0],"m_textureRef":{"m_guid":[364921788,1323712570,2497125887,1146669227],"m_revision":0,"m_type":"kTexture","m_autoGenerated":false},"m_imageColor":[4.5625,1.0,3.161290407180786,1.0],"m_averageColor":[0.062745101749897,1.0,0.12156862765550614,1.0],"m_averageColorReciprocal":[15.937499046325684,1.0,8.22580623626709,1.0]}}]},{"class":"cScriptObject","name":"Script","guid":[4158487454,792609324,3178147409,2519421303],"parentGuid":[1362459126,1156792341,2681269783,824873225],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"Script"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":10,"class":"sLuaComponent","data":{"m_luaContent":"-- script\r\nlocal HealthBar = script.Parent.Health\r\nlocal HealthBackground = script.Parent.BackGround\r\nlocal OriginSize = HealthBar.Size\r\nlocal HealthRed = ResourceManager.GetTexture('Blood_Red')\r\nlocal HealthGreen = ResourceManager.GetTexture('Blood_Green')\r\nlocal HealthOrange = ResourceManager.GetTexture('Blood_Orange')\r\nlocal HealthChangeTime = 0\r\nlocal TimerNow = 0\r\nlocal player = script.Parent.Parent\r\n\r\nlocal function HealthChange()\r\n    HealthChangeTime = Timer.GetTime()\r\n    Property = player.Health / player.MaxHealth\r\n    if Property >= 0.7 then\r\n        HealthBar.Texture = HealthGreen\r\n    elseif Property >= 0.3 then\r\n        HealthBar.Texture = HealthOrange\r\n    else\r\n        HealthBar.Texture = HealthRed\r\n    end\r\n    HealthBar.Size = Vector2(OriginSize.x * Property, OriginSize.y)\r\nend\r\n\r\nlocal function StartTimer()\r\n    while true do\r\n        TimerNow = Timer.GetTime()\r\n        if player.HealthDisplayMode == Enum.HealthDisplayMode.Always then\r\n            HealthBar:SetActive(true)\r\n            HealthBackground:SetActive(true)\r\n        elseif player.HealthDisplayMode == Enum.HealthDisplayMode.Never then\r\n            HealthBar:SetActive(false)\r\n            HealthBackground:SetActive(false)\r\n        elseif player.HealthDisplayMode == Enum.HealthDisplayMode.OnHit then\r\n            if player.Health ~= player.MaxHealth then\r\n                HealthBar:SetActive(true)\r\n                HealthBackground:SetActive(true)\r\n            else\r\n                HealthBar:SetActive(false)\r\n                HealthBackground:SetActive(true)\r\n            end\r\n        else\r\n            if TimerNow <= HealthChangeTime + 2 and HealthChangeTime ~= 0 then\r\n                HealthBar:SetActive(true)\r\n                HealthBackground:SetActive(true)\r\n            else\r\n                HealthBar:SetActive(false)\r\n                HealthBackground:SetActive(false)\r\n            end\r\n        end\r\n        wait(0.01)\r\n    end\r\nend\r\n\r\nplayer.OnHealthChange:Connect(HealthChange)\r\nStartTimer()\r\n"}}]},{"class":"cFolderObject","name":"C_Event","guid":[2292071358,1506495263,2198482554,1903889976],"parentGuid":[2229867806,259017539,2476631306,1972820229],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"C_Event"}},{"id":40000,"class":"sScriptHelperComponent","data":{}}]},{"class":"cCustomEventObject","name":"ClientExample01Event","guid":[2692906001,400442409,2471841936,3656382497],"parentGuid":[2292071358,1506495263,2198482554,1903889976],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"ClientExample01Event"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":511,"class":"sCustomEventComponent","data":{}},{"id":10,"class":"sLuaComponent","data":{"m_luaContent":"--自定义事件脚本, 会监听由FireEventTo系列触发的与该脚本名一样的事件\r\n--参数(arg1, arg2, arg3 ...) : 为各个事件参数\r\n","m_scriptType":"kCustomFunction"}}]},{"class":"cCustomEventObject","name":"ClientExample02Event","guid":[4280271411,1924088491,2838919974,2621789847],"parentGuid":[2292071358,1506495263,2198482554,1903889976],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"ClientExample02Event"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":511,"class":"sCustomEventComponent","data":{}},{"id":10,"class":"sLuaComponent","data":{"m_luaContent":"--自定义事件脚本, 会监听由FireEventTo系列触发的与该脚本名一样的事件\r\n--参数(arg1, arg2, arg3 ...) : 为各个事件参数\r\n","m_scriptType":"kCustomFunction"}}]},{"class":"cCustomEventObject","name":"ClientExample03Event","guid":[1505293026,2520205713,2880716936,3351337845],"parentGuid":[2292071358,1506495263,2198482554,1903889976],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"ClientExample03Event"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":511,"class":"sCustomEventComponent","data":{}},{"id":10,"class":"sLuaComponent","data":{"m_luaContent":"--自定义事件脚本, 会监听由FireEventTo系列触发的与该脚本名一样的事件\r\n--参数(arg1, arg2, arg3 ...) : 为各个事件参数\r\n","m_scriptType":"kCustomFunction"}}]},{"class":"cCustomEventObject","name":"StartAnimationEvent","guid":[1824764229,1360481778,3122932367,3039676128],"parentGuid":[2292071358,1506495263,2198482554,1903889976],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"StartAnimationEvent"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":511,"class":"sCustomEventComponent","data":{}},{"id":10,"class":"sLuaComponent","data":{"m_luaContent":"--自定义事件脚本, 会监听由FireEventTo系列触发的与该脚本名一样的事件\n--参数(arg1, arg2, arg3 ...) : 为各个事件参数\n--arg1:要播放的动画数据名称,以Module形式储存在Animation下\n","m_scriptType":"kCustomFunction"}}]},{"class":"cCustomEventObject","name":"AnimationStateEvent","guid":[789045127,61556465,3150371296,2498448214],"parentGuid":[2292071358,1506495263,2198482554,1903889976],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"AnimationStateEvent"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":511,"class":"sCustomEventComponent","data":{}},{"id":10,"class":"sLuaComponent","data":{"m_luaContent":"--自定义事件脚本, 会监听由FireEventTo系列触发的与该脚本名一样的事件\n--参数(arg1, arg2, arg3 ...) : 为各个事件参数\ndebug('UIAnimation:', arg1, 'State:', arg2)\n","m_scriptType":"kCustomFunction"}}]}]},{"ObjectsLinker":[{"class":"cWorkspace","name":"World","guid":[1981988479,3555894,2597800867,69741929],"spaceId":"kDefaultSpace","objectType":0},{"class":"cWorkspace","name":"Global","guid":[344576033,1668630255,2683907297,2226597768],"spaceId":"kDefaultSpace","objectType":0},{"class":"cScriptObject","name":"AutoAssignTeamScript","guid":[1988307774,2442019711,2592872571,1277204125],"spaceId":"kDefaultSpace","objectType":0},{"class":"cScriptObject","name":"LuaFunctionScript","guid":[3330332978,589909841,2774054172,1565862559],"spaceId":"kDefaultSpace","objectType":0},{"class":"cScriptObject","name":"ModuleRequireScript","guid":[2221840009,1976321846,2245245619,407532979],"spaceId":"kDefaultSpace","objectType":0},{"class":"cFolderObject","name":"Utility","guid":[1158799413,2751941742,3186700785,1570109853],"spaceId":"kDefaultSpace","objectType":0},{"class":"cModuleScriptObject","name":"NetUtilModule","guid":[3138092138,940262650,3093420508,667201143],"spaceId":"kDefaultSpace","objectType":0},{"class":"cModuleScriptObject","name":"CsvUtilModule","guid":[3433342930,3050064207,3042438006,35244977],"spaceId":"kDefaultSpace","objectType":0},{"class":"cModuleScriptObject","name":"EventUitlModule","guid":[2990017477,1670333273,2674323178,1532840206],"spaceId":"kDefaultSpace","objectType":0},{"class":"cModuleScriptObject","name":"LogUtilModule","guid":[331530011,3698477199,2826898349,1604055611],"spaceId":"kDefaultSpace","objectType":0},{"class":"cFolderObject","name":"Plugin","guid":[3421449223,220021494,2714239174,1946870819],"spaceId":"kDefaultSpace","objectType":0},{"class":"cFolderObject","name":"FUNC_UIAnimation","guid":[1331349991,2616282402,2630754420,1905460436],"spaceId":"kDefaultSpace","objectType":0},{"class":"cModuleScriptObject","name":"ReadMe","guid":[2979943216,551765364,2248158137,2732055024],"spaceId":"kDefaultSpace","objectType":0},{"class":"cFolderObject","name":"Code","guid":[2747130650,1726107529,2983478535,4170811724],"spaceId":"kDefaultSpace","objectType":0},{"class":"cModuleScriptObject","name":"DataModule","guid":[2329789835,1245463234,2338128988,1464284537],"spaceId":"kDefaultSpace","objectType":0},{"class":"cModuleScriptObject","name":"AnimationMainModule","guid":[2680157156,1245725629,2963263301,1750898223],"spaceId":"kDefaultSpace","objectType":0},{"class":"cFolderObject","name":"Define","guid":[3643209718,4192551772,2636302611,3473650035],"spaceId":"kDefaultSpace","objectType":0},{"class":"cModuleScriptObject","name":"GlobalDefModule","guid":[3584163079,3374337710,2390188471,2399437392],"spaceId":"kDefaultSpace","objectType":0},{"class":"cModuleScriptObject","name":"ConstDefModule","guid":[1768866970,2821735027,2612949907,3460044805],"spaceId":"kDefaultSpace","objectType":0},{"class":"cFolderObject","name":"Module","guid":[2883110320,3875490972,2778882821,1569891889],"spaceId":"kDefaultSpace","objectType":0},{"class":"cFolderObject","name":"S_Module","guid":[2325219688,3448000480,2204321929,4246846969],"spaceId":"kDefaultSpace","objectType":0},{"class":"cModuleScriptObject","name":"GameMgrModule","guid":[112830824,171854255,2946136964,1894336579],"spaceId":"kDefaultSpace","objectType":0},{"class":"cModuleScriptObject","name":"CsvConfigModule","guid":[112798298,387337249,2420484563,3059665706],"spaceId":"kDefaultSpace","objectType":0},{"class":"cModuleScriptObject","name":"TimeMgrModule","guid":[284737459,3705621769,2322183270,2078970709],"spaceId":"kDefaultSpace","objectType":0},{"class":"cModuleScriptObject","name":"ExampleAModule","guid":[2387834855,1574587674,2670415526,3557140699],"spaceId":"kDefaultSpace","objectType":0},{"class":"cFolderObject","name":"C_Module","guid":[2085024476,779046503,2599607412,4053327341],"spaceId":"kDefaultSpace","objectType":0},{"class":"cModuleScriptObject","name":"PlayerMgrModule","guid":[1039137540,2610905714,3183561849,1647783672],"spaceId":"kDefaultSpace","objectType":0},{"class":"cModuleScriptObject","name":"ExampleBModule","guid":[646356249,1292323580,2768118403,2865367294],"spaceId":"kDefaultSpace","objectType":0},{"class":"cFolderObject","name":"Csv","guid":[2272249561,3378007281,2688214392,3190071702],"spaceId":"kDefaultSpace","objectType":0},{"class":"cTableObject","name":"UIAnimation","guid":[1097962876,3754445060,2192136032,4179300550],"spaceId":"kDefaultSpace","objectType":0},{"class":"cTableObject","name":"Example01","guid":[1009384381,1318601170,2335100178,2096260731],"spaceId":"kDefaultSpace","objectType":0},{"class":"cTableObject","name":"Example02","guid":[519619536,3748807551,2763899961,330082025],"spaceId":"kDefaultSpace","objectType":0},{"class":"cFolderObject","name":"S_Event","guid":[3388698598,504056136,2819280548,3600804874],"spaceId":"kDefaultSpace","objectType":0},{"class":"cCustomEventObject","name":"Example01CustomEvent","guid":[1849321353,1174686080,2581212444,423150465],"spaceId":"kDefaultSpace","objectType":0},{"class":"cCustomEventObject","name":"Example02CustomEvent","guid":[2464372298,3888661849,2219280214,4227873962],"spaceId":"kDefaultSpace","objectType":0},{"class":"cCustomEventObject","name":"Example03CustomEvent","guid":[3522954919,4107421185,2760879892,839023523],"spaceId":"kDefaultSpace","objectType":0},{"class":"cFolderObject","name":"S_Code","guid":[3588299831,2838581107,2638019367,1912244102],"spaceId":"kDefaultSpace","objectType":0},{"class":"cScriptObject","name":"ServerMain","guid":[3478165892,3968682922,3091200964,3154749412],"spaceId":"kDefaultSpace","objectType":0},{"class":"cFolderObject","name":"Test","guid":[1121972396,3387441651,2555498827,995696856],"spaceId":"kDefaultSpace","objectType":0},{"class":"cScriptObject","name":"TestServerMainScript","guid":[2047870622,3659025888,2164427045,478373359],"spaceId":"kDefaultSpace","objectType":0},{"class":"cScriptObject","name":"TestTimeMgrScript","guid":[2274526775,1538082644,2178394526,1746432296],"spaceId":"kDefaultSpace","objectType":0},{"class":"cPrimitiveObject","name":"BaseFloor","guid":[4211227124,399589691,2212667733,3335218667],"spaceId":"kDefaultSpace","objectType":0},{"class":"cFolderObject","name":"SpawnLocations","guid":[1803916521,3674621259,2355104850,441818688],"spaceId":"kDefaultSpace","objectType":0},{"class":"cStartPortal","name":"StartPortal00","guid":[362184257,1300644271,2169624314,2670603163],"spaceId":"kDefaultSpace","objectType":0},{"class":"cStartPortal","name":"StartPortal01","guid":[651144420,800934336,3039799213,1377036607],"spaceId":"kDefaultSpace","objectType":0},{"class":"cStartPortal","name":"StartPortal02","guid":[4009425966,1206468687,2439525561,4287493119],"spaceId":"kDefaultSpace","objectType":0},{"class":"cStartPortal","name":"StartPortal03","guid":[3415283602,2930724749,3175953031,3420113780],"spaceId":"kDefaultSpace","objectType":0},{"class":"cAudioSource","name":"BGM","guid":[1596674502,2319271992,2900844459,2801180766],"spaceId":"kDefaultSpace","objectType":-842150451},{"class":"cSkydome","name":"Sky","guid":[3956874685,1991789763,3220541584,1456680764],"spaceId":"kDefaultSpace","objectType":-842150451},{"class":"cFolderObject","name":"Players","guid":[3397398191,850542637,3138524115,1333674022],"spaceId":"kDefaultSpace","objectType":0},{"class":"cPlayerInstanceSlot","name":"PlayerInstanceSlot","guid":[718760084,1257915969,2962466066,2150526306],"spaceId":"kDefaultSpace","objectType":0},{"class":"cPlayerInstanceSlot","name":"PlayerInstanceSlot","guid":[438081159,4019275113,2394302102,997050187],"spaceId":"kDefaultSpace","objectType":0},{"class":"cPlayerInstanceSlot","name":"PlayerInstanceSlot","guid":[154289415,229392516,2254790969,287930189],"spaceId":"kDefaultSpace","objectType":0},{"class":"cTerrainObject","name":"Terrain","guid":[2381081137,2979483093,3156488065,1492146101],"spaceId":"kDefaultSpace","objectType":0}],"ObjectsData":[{"class":"cWorkspace","name":"World","guid":[1981988479,3555894,2597800867,69741929],"parentGuid":[0,0,0,0],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"World"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":10,"class":"sWorkspaceComponent","data":{}},{"id":11,"class":"sConfigPhysicsComponent","data":{"m_collisionGroupMaskFlags":[0,3,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}}]},{"class":"cWorkspace","name":"Global","guid":[344576033,1668630255,2683907297,2226597768],"parentGuid":[1981988479,3555894,2597800867,69741929],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"Global"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":10,"class":"sWorkspaceComponent","data":{}},{"id":11,"class":"sConfigPhysicsComponent","data":{"m_collisionGroupMaskFlags":[0,3,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}}]},{"class":"cScriptObject","name":"AutoAssignTeamScript","guid":[1988307774,2442019711,2592872571,1277204125],"parentGuid":[344576033,1668630255,2683907297,2226597768],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"AutoAssignTeamScript"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":10,"class":"sLuaComponent","data":{"m_luaContent":"--- 玩家加入\n-- @script Auto assign\n-- @copyright Lilith Games, Avatar Team\n\n--- 编辑器默认方法\n-- run once when script init\nfunction autoAssign()\n    local container = world:FindTeams()\n    local min = 1\n    local teamTojoin = {}\n    local playerfolder = world.Players\n    for i = 1, #container, 1 do\n        if container[i].CurrentMaxMemberNum > 0 then\n            temp = container[i].CurrentMemberNum / (container[i].CurrentMaxMemberNum)\n            if (temp < min and temp ~= 1) then\n                teamTojoin = {}\n                min = temp\n                table.insert(teamTojoin, container[i])\n            elseif temp == min and temp ~= 1 then\n                table.insert(teamTojoin, container[i])\n            end\n        end\n    end\n    local a = 1\n    if #teamTojoin > 0 then\n        a = math.random(1, #teamTojoin)\n        return teamTojoin[a]\n    else\n        return nil\n    end\nend\n"}}]},{"class":"cScriptObject","name":"LuaFunctionScript","guid":[3330332978,589909841,2774054172,1565862559],"parentGuid":[344576033,1668630255,2683907297,2226597768],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"LuaFunctionScript"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":10,"class":"sLuaComponent","data":{"m_luaContent":"--- 提供一组常用函数，以及对 Lua 标准库的扩展\n-- @script Lua function extension libraries\n-- @author Lilith Games, Avatar Team\n-- @see https://wiki.lilithgames.com/x/tSkMAg\n\n--- 检查并尝试转换为数值，如果无法转换则返回 0\n-- @param mixed value 要检查的值\n-- @param [integer base] 进制，默认为十进制\n-- @return number\nfunction checknumber(value, base)\n    return tonumber(value, base) or 0\nend\n\n--- 检查是否是有效的number类型\n-- @param number\nfunction isValidNumber(num)\n    return num ~= nil and num > 0\nend\n\n--- 检查并尝试转换为整数，如果无法转换则返回 0\n-- @param mixed value 要检查的值\n-- @return integer\nfunction checkint(value)\n    return math.round(checknumber(value))\nend\n\n--- 检查并尝试转换为布尔值，除了 nil 和 false，其他任何值都会返回 true\n-- @param mixed value 要检查的值\n-- @return boolean\nfunction checkbool(value)\n    return (value ~= nil and value ~= false)\nend\n\n--- 检查值是否是一个表格，如果不是则返回一个空表格\n-- @param mixed value 要检查的值\n-- @return table\nfunction checktable(value)\n    if type(value) ~= 'table' then\n        value = {}\n    end\n    return value\nend\n\n--- 处理对象\n-- @param mixed obj Lua 对象\n-- @param function method 对象方法\n-- @return function\nfunction handler(obj, method)\n    return function(...)\n        return method(obj, ...)\n    end\nend\n\n--- 计算表格包含的字段数量\n-- Lua table 的 \"#\" 操作只对依次排序的数值下标数组有效，table.nums() 则计算 table 中所有不为 nil 的值的个数。\n-- @param table\nfunction table.nums(t)\n    if t == nil then\n        return 0\n    end\n    local count = 0\n    for k, v in pairs(t) do\n        count = count + 1\n    end\n    return count\nend\n\n--- 返回指定表格中的所有键\n-- @param k-v table\n-- @return keys' table\n-- @usage example\n-- local hashtable = {a = 1, b = 2, c = 3}\n-- local keys = table.keys(hashtable)\n-- >> keys = {\"a\", \"b\", \"c\"}\nfunction table.keys(hashtable)\n    local keys = {}\n    for k, _ in pairs(hashtable) do\n        table.insert(keys, k)\n    end\n    return keys\nend\n\n--- 返回指定表格中的所有值\n-- @param k-v table\n-- @return values' table\n-- @usage example\n-- local hashtable = {a = 1, b = 2, c = 3}\n-- local values = table.values(hashtable)\n-- >> values = {1, 2, 3}\nfunction table.values(hashtable)\n    local values = {}\n    local i = 1\n    for k, v in pairs(hashtable) do\n        values[i] = v\n        i = i + 1\n    end\n    return values\nend\n\n--- 将来源表格中所有键及其值复制到目标表格对象中，如果存在同名键，则覆盖其值\n-- @param target table\n-- @param source table\n-- @usage example\n-- local dest = {a = 1, b = 2}\n-- local src  = {c = 3, d = 4}\n-- table.merge(dest, src)\n-- >> dest = {a = 1, b = 2, c = 3, d = 4}\nfunction table.merge(dest, src)\n    for k, v in pairs(src) do\n        dest[k] = v\n    end\nend\n\n--- 在目标表格的指定位置插入来源表格，如果没有指定位置则连接两个表格\n-- @param target table\n-- @param source table\n-- @param start index\n-- @usage example #1\n-- local dest = {1, 2, 3}\n-- local src  = {4, 5, 6}\n-- table.insertto(dest, src)\n-- >> dest = {1, 2, 3, 4, 5, 6}\n-- @usage example #2\n-- local dest = {1, 2, 3}\n-- local src  = {4, 5, 6}\n-- table.insertto(dest, src, 5)\n-- >> dest = {1, 2, 3, nil, 4, 5, 6}\nfunction table.insertto(dest, src, begin)\n    if begin == nil then\n        begin = #dest + 1\n    else\n        begin = checkint(begin)\n        if begin <= 0 then\n            begin = #dest + 1\n        end\n    end\n\n    local len = #src\n    for i = 0, len - 1 do\n        dest[i + begin] = src[i + 1]\n    end\nend\n\n--- 从表格中查找指定值，返回其索引，如果没找到返回 false\n-- @param array table\n-- @param target value\n-- @param start index\n-- @return index or false\n-- @usage example\n-- local array = {\"a\", \"b\", \"c\"}\n-- print(table.indexof(array, \"b\"))\n-- >> 2\nfunction table.indexof(array, value, begin)\n    if array ~= nil then\n        for i = begin or 1, #array do\n            if array[i] == value then\n                return i\n            end\n        end\n    end\n    return 0\nend\n\n--- 检查表格中是否存在指定值\n-- @param array table\n-- @param target value\n-- @return @boolean\nfunction table.exists(array, value)\n    return table.indexof(array, value) > 0\nend\n\n--- 清空数组表格\n-- @param array table\nfunction table.cleararray(array)\n    if array ~= nil then\n        local count = #array\n        while count > 0 do\n            table.remove(array, count)\n            count = #array\n        end\n    end\nend\n\n--- 清空k-v表格\n-- @param k-v table\nfunction table.clearhashtable(hashtable)\n    if hashtable ~= nil then\n        for k, v in pairs(hashtable) do\n            hashtable[k] = nil\n        end\n    end\nend\n\n--- 清空表格\n-- @param table\n-- @see table.clearhashtable\nfunction table.cleartable(t)\n    table.clearhashtable(t)\nend\n\n--- 截取Array其中一段，startIndex从1开始 return截取后的新数组\n-- @param table array table\n-- @param @number start index\n-- @param @number length\n-- @return @table array table\n-- @usage example\n-- local array = {\"a\", \"b\", \"c\", \"d\"}\n-- print(table.subArray(array, 2, 2))\n-- >> {\"b\", \"c\"}\nfunction table.subArray(array, startIndex, length)\n    if array ~= nil then\n        local count = table.nums(array)\n        local tempArray = array\n        array = {}\n        if startIndex <= count then\n            local maxlength = count - startIndex + 1\n            length = length > maxlength and maxlength or length\n            local endIndex = startIndex + length - 1\n            for i = startIndex, endIndex do\n                table.insert(array, tempArray[i])\n            end\n        end\n    end\n    return array\nend\n\n--- 截取Array的后半段，startIndex从1开始 return截取后的新数组\n-- @param table array table\n-- @param @number start index\n-- @return @table array table\nfunction table.subArrayByStartIndex(array, startIndex)\n    if array ~= nil then\n        local count = table.nums(array)\n        local length = count - startIndex + 1\n        return table.subArray(array, startIndex, length)\n    end\n    return array\nend\n\n--- 从表格中查找指定值，返回其 key，如果没找到返回 nil\n-- @param table hash table\n-- @param any value\n-- @return key of value\n-- @usage\n-- local hashtable = {name = \"dualface\", comp = \"chukong\"}\n-- print(table.keyof(hashtable, \"chukong\"))\n-- >> comp\nfunction table.keyof(hashtable, value)\n    for k, v in pairs(hashtable) do\n        if v == value then\n            return k\n        end\n    end\n    return nil\nend\n\n--- 从表格中删除指定值，返回删除的值的个数\n-- @usage\n-- local array = {\"a\", \"b\", \"c\", \"c\"}\n-- print(table.removebyvalue(array, \"c\", true))\n-- >> 输出 2\nfunction table.removebyvalue(array, value, removeall)\n    local c, i, max = 0, 1, #array\n    while i <= max do\n        if array[i] == value then\n            table.remove(array, i)\n            c = c + 1\n            i = i - 1\n            max = max - 1\n            if not removeall then\n                break\n            end\n        end\n        i = i + 1\n    end\n    return c\nend\n\n--- 对表格中每一个值执行一次指定的函数，并用函数返回值更新表格内容\n-- @param table\n-- @param function fn 参数指定的函数具有两个参数，并且返回一个值。原型如下：\n-- function map_function(value, key)\n--     return value\n-- end\n-- @usage\n-- local t = {name = \"dualface\", comp = \"chukong\"}\n-- table.map(t, function(v, k)\n--    -- 在每一个值前后添加括号\n--    return \"[\" .. v .. \"]\"\n-- end)\n-- 输出修改后的表格内容\n-- for k, v in pairs(t) do\n--     print(k, v)\n-- end\n-- >> 输出\n-- name [dualface]\n-- comp [chukong]\nfunction table.map(t, fn)\n    for k, v in pairs(t) do\n        t[k] = fn(v, k)\n    end\nend\n\n--- 对表格中每一个值执行一次指定的函数，但不改变表格内容\n-- @param table\n-- @param function fn 参数指定的函数具有两个参数，没有返回值。原型如下：\n-- function map_function(value, key)\n--     -- no return here\n-- end\n-- @usage\n-- local t = {name = \"dualface\", comp = \"chukong\"}\n-- table.walk(t, function(v, k)\n--     -- 输出每一个值\n--     print(v)\n-- end)\nfunction table.walk(t, fn)\n    for k, v in pairs(t) do\n        fn(v, k)\n    end\nend\n\n--- 对表格中每一个值执行一次指定的函数，如果该函数返回 false，则对应的值会从表格中删除\n-- @param table\n-- @param function fn 参数指定的函数具有两个参数，并且返回一个 boolean 值。原型如下：\n-- !!!!该方法有局限性，执行后会修改原表格t中值\n-- function map_function(value, key)\n--     return true or false\n-- end\n-- @usage\n-- local t = {name = \"dualface\", comp = \"chukong\"}\n-- table.filter(t, function(v, k)\n--     return v ~= \"dualface\" -- 当值等于 dualface 时过滤掉该值\n-- end)\n-- 输出修改后的表格内容\n-- for k, v in pairs(t) do\n--     print(k, v)\n-- end\n-- >> 输出 comp chukong\nfunction table.filter(t, fn)\n    for k, v in pairs(t) do\n        if not fn(v, k) then\n            t[k] = nil\n        end\n    end\nend\n\n--- 找到表格中每个符合matchFunc的条目\n-- @param array table\n-- @param match function, return T/F\n-- @return all elements matched, default is {}\nfunction table.findAll(array, matchFunc)\n    local ret, idx = {}, 1\n    for i = 1, #array do\n        if matchFunc(array[i]) then\n            ret[idx] = array[i]\n            idx = idx + 1\n        end\n    end\n    return ret\nend\n\n--- 找到表格中每个符合matchFunc的条目，并执行walkFunc\n-- @param array table\n-- @param match function, return T/F\n-- @param walk function\nfunction table.findAllAndWalk(array, matchFunc, walkFunc)\n    for i = 1, #array do\n        if matchFunc(array[i]) then\n            walkFunc(array[i])\n        end\n    end\nend\n\n--- 在表格中插入一个新值\n-- @param array table\n-- @param new element\nfunction table.insert_once(T, elem)\n    for _, v in ipairs(T) do\n        if v == elem then\n            return\n        end\n    end\n    table.insert(T, elem)\nend\n\n--- 遍历表格，确保其中的值唯一\n-- @function [parent=#table] unique\n-- @param table t 表格\n-- @param boolean bArray t是否是数组,是数组,t中重复的项被移除后,后续的项会前移\n-- @return table#table  包含所有唯一值的新表格\n-- @usage\n-- 遍历表格，确保其中的值唯一\n-- local t = {\"a\", \"a\", \"b\", \"c\"} -- 重复的 a 会被过滤掉\n-- local n = table.unique(t)\n-- for k, v in pairs(n) do\n--     print(v)\n-- end\n-- >> 输出 a b c\nfunction table.unique(t, bArray)\n    local check = {}\n    local n = {}\n    local idx = 1\n    for k, v in pairs(t) do\n        if not check[v] then\n            if bArray then\n                n[idx] = v\n                idx = idx + 1\n            else\n                n[k] = v\n            end\n            check[v] = true\n        end\n    end\n    return n\nend\n\n--- table 深度复制\n-- @param table\n-- @return a net table with same data\nfunction table.deepcopy(object)\n    local lookup_table = {}\n    local function _copy(object)\n        if type(object) ~= 'table' then\n            return object\n        elseif lookup_table[object] then\n            return lookup_table[object]\n        end\n        local new_table = {}\n        lookup_table[object] = new_table\n        for key, value in pairs(object) do\n            new_table[_copy(key)] = _copy(value)\n        end\n        return setmetatable(new_table, getmetatable(object))\n    end\n    return _copy(object)\nend\n\n--- table 浅度复制(不处理metatable)\nfunction table.shallowcopy(orig)\n    local orig_type = type(orig)\n    local copy\n    if orig_type == 'table' then\n        copy = {}\n        for orig_key, orig_value in next, orig, nil do\n            copy[table.shallowcopy(orig_key)] = table.shallowcopy(orig_value)\n        end\n    else\n        copy = orig\n    end\n    return copy\nend\n\n--- 获取or创建一个子表\nfunction table.need(tb, key)\n    if type(tb) == 'table' then\n        local subTb = tb[key]\n        if subTb == nil then\n            subTb = {}\n            tb[key] = subTb\n        end\n        return subTb\n    end\n    return\nend\n\n--- 打印table中的所有内容\n-- @param data table\n-- @param @boolean showMetatable 是否显示元表\nfunction table.dump(data, showMetatable)\n    local result, tab = {}, '    '\n    local function _dump(data, showMetatable, lastCount)\n        if type(data) ~= 'table' then\n            if type(data) == 'string' then\n                table.insert(result, '\"')\n                table.insert(result, data)\n                table.insert(result, '\"')\n            else\n                table.insert(result, tostring(data))\n            end\n        else\n            --Format\n            local count = lastCount or 0\n            count = count + 1\n            table.insert(result, '{\\n')\n            --Metatable\n            if showMetatable then\n                for i = 1, count do\n                    table.insert(result, tab)\n                end\n                local mt = getmetatable(data)\n                table.insert(result, '\"__metatable\" = ')\n                _dump(mt, showMetatable, count)\n                table.insert(result, ',\\n')\n            end\n            --Key\n            for key, value in pairs(data) do\n                for i = 1, count do\n                    table.insert(result, tab)\n                end\n                if type(key) == 'string' then\n                    table.insert(result, '\"')\n                    table.insert(result, key)\n                    table.insert(result, '\" = ')\n                elseif type(key) == 'number' then\n                    table.insert(result, '[')\n                    table.insert(result, key)\n                    table.insert(result, '] = ')\n                else\n                    table.insert(result, tostring(key))\n                end\n                _dump(value, showMetatable, count)\n                table.insert(result, ',\\n')\n            end\n            --Format\n            for i = 1, lastCount or 0 do\n                table.insert(result, tab)\n            end\n            table.insert(result, '}')\n        end\n        --Format\n        if not lastCount then\n            table.insert(result, '\\n')\n        end\n    end\n    _dump(data, showMetatable, 0)\n\n    print('dump from: \\n' .. table.concat(result))\nend\n\n--- 用指定字符或字符串分割输入字符串，返回包含分割结果的数组\n-- @param @string input 输入的字符串\n-- @param @string delimiter 分隔符\n-- @return array\n-- @usage example #1\n-- local input = \"Hello,World\"\n-- local res = string.split(input, \",\")\n-- >> res = {\"Hello\", \"World\"}\n-- @usage example #2\n-- local input = \"Hello-+-World-+-Quick\"\n-- local res = string.split(input, \"-+-\")\n-- >> res = {\"Hello\", \"World\", \"Quick\"}\nfunction string.split(input, delimiter)\n    input = tostring(input)\n    delimiter = tostring(delimiter)\n    if (delimiter == '') then\n        return false\n    end\n    local pos, arr = 0, {}\n    -- for each divider found\n    for st, sp in function()\n        return string.find(input, delimiter, pos, true)\n    end do\n        table.insert(arr, string.sub(input, pos, st - 1))\n        pos = sp + 1\n    end\n    table.insert(arr, string.sub(input, pos))\n    return arr\nend\n\n--- 判断字符串是否为空或者长度为零\n-- @param @string 输入的字符串\nfunction string.isnilorempty(inputStr)\n    return inputStr == nil or inputStr == ''\nend\n\n--- 去除输入字符串头部的空白字符，返回结果\n-- @param @string input\n-- @return @string\n-- @usage example\n-- local input = \"  ABC\"\n-- print(string.ltrim(input))\n-- >> 输出 ABC，输入字符串前面的两个空格被去掉了\n-- 空白字符包括：\n-- -   空格\n-- -   制表符 \\t\n-- -   换行符 \\n\n-- -   回到行首符 \\r\nfunction string.ltrim(input)\n    return string.gsub(input, '^[ \\t\\n\\r]+', '')\nend\n\n--- 去除输入字符串尾部的空白字符，返回结果\n-- @param @string input\n-- @return @string\n-- @usage example\n-- local input = \"ABC  \"\n-- print(string.rtrim(input))\n-- >> 输出 ABC，输入字符串最后的两个空格被去掉了\nfunction string.rtrim(input)\n    return string.gsub(input, '[ \\t\\n\\r]+$', '')\nend\n\n--- 去掉字符串首尾的空白字符，返回结果\n-- @param @string input\n-- @return @string\nfunction string.trim(input)\n    input = string.gsub(input, '^[ \\t\\n\\r]+', '')\n    return string.gsub(input, '[ \\t\\n\\r]+$', '')\nend\n\n--- 将字符串的第一个字符转为大写，返回结果\n-- @param @string input\n-- @return @string\n-- @usage example\n-- local input = \"hello\"\n-- print(string.ucfirst(input))\n-- >> 输出 Hello\nfunction string.ucfirst(input)\n    return string.upper(string.sub(input, 1, 1)) .. string.sub(input, 2)\nend\n\nfunction string.firstToUpper(str)\n    return (str:gsub('^%l', string.upper))\nend\n\n--- 计算 UTF8 字符串的长度，每一个中文算一个字符\n-- @param @string input\n-- @return @number cnt\n-- @usage example\n-- local input = \"你好World\"\n-- print(string.utf8len(input))\n-- >> 输出 7\nfunction string.utf8len(input)\n    local len = string.len(input)\n    local left = len\n    local cnt = 0\n    local arr = {0, 0xc0, 0xe0, 0xf0, 0xf8, 0xfc}\n    while left ~= 0 do\n        local tmp = string.byte(input, -left)\n        local i = #arr\n        while arr[i] do\n            if tmp >= arr[i] then\n                left = left - i\n                break\n            end\n            i = i - 1\n        end\n        cnt = cnt + 1\n    end\n    return cnt\nend\n\n--- 替换字符串内容\n-- @param @string input\n-- @param @number start index\n-- @param new context\n-- @return a new string\nfunction string.replace(str, index, char)\n    return table.concat {str:sub(1, index - 1), char, str:sub(index + 1)}\nend\n\n--- 检查字符串是否为指定字符串开头\n-- @param @string target\n-- @param @string start\n-- @return @boolean\nfunction string.startswith(str, start)\n    return str:sub(1, #start) == start\nend\n\n--- 检查字符串是否以指定字符串结尾\n-- @param @string target\n-- @param @string start\n-- @return @boolean\nfunction string.endswith(str, ending)\n    return ending == '' or str:sub(-(#ending)) == ending\nend\n\n--- 四舍五入\n-- @param a number\n-- @return a round number\nfunction math.round(value)\n    return math.floor(value + 0.5)\nend\n\n--- [0, 1]区间限定函数\n-- @param a number or\n-- @return a clamped number\nfunction math.clamp01(value)\n    return math.min(1, math.max(0, value))\nend\n\n--- 数据结构 队列\n-- @usage queue example\n-- local myQueue = Queue:New()\n-- myQueue:Enqueue('a')\n-- myQueue:Enqueue('b')\n-- myQueue:Enqueue('c')\n-- myQueue:PrintElement()\n-- print(myQueue:Dequeue())\n-- myQueue:PrintElement()\n-- myQueue:Clear()\n-- myQueue:PrintElement()\nQueue = {}\nfunction Queue:New()\n    local inst = {\n        _first = -1,\n        _last = -1,\n        _size = 0,\n        _queue = {}\n    }\n    setmetatable(inst, {__index = self})\n    return inst\nend\n\nfunction Queue:IsEmpty()\n    if self._size == 0 then\n        return true\n    end\n    return false\nend\n\nfunction Queue:Enqueue(inElement)\n    if self._size == 0 then\n        self._first = 0\n        self._last = 1\n        self._size = 1\n        self._queue[self._last] = inElement\n    else\n        self._last = self._last + 1\n        self._queue[self._last] = inElement\n        self._size = self._size + 1\n    end\nend\n\nfunction Queue:Dequeue()\n    if self:IsEmpty() then\n        print('Error: the queue is empty')\n        return\n    end\n    self._size = self._size - 1\n    self._first = self._first + 1\n    local value = self._queue[self._first]\n    return value\nend\n\nfunction Queue:Clear()\n    self._queue = nil\n    self._queue = {}\n    self._size = 0\n    self._first = -1\n    self._last = -1\nend\n\nfunction Queue:Size()\n    return self._size or 0\nend\n\nfunction Queue:PrintElement()\n    if self._size == 0 then\n        print('{}')\n    else\n        local f = self._first + 1\n        local l = self._last\n        local str\n        local flag = true\n        while f ~= l do\n            if flag == true then\n                str = '{' .. tostring(self._queue[f])\n                f = f + 1\n                flag = false\n            else\n                str = str .. ',' .. tostring(self._queue[f])\n                f = f + 1\n            end\n        end\n        str = str .. ',' .. tostring(self._queue[l]) .. '}'\n        print(str)\n    end\nend\n\nfunction Queue:GetValue(index)\n    if self:IsEmpty() or index == nil or index == 0 then\n        print('Error: Get Value Failure!')\n        return\n    end\n    if index > 0 then\n        return self._queue[self._first + index]\n    else\n        return self._queue[self._last + index + 1]\n    end\nend\n\nfunction Queue:GetValues()\n    if self:IsEmpty() then\n        return\n    end\n    local data = {}\n    for i = self._first + 1, self._last, 1 do\n        data[#data + 1] = self._queue[i]\n    end\n    return data\nend\n\n--- 数据结构 栈\n-- @usage example\n-- local myStack = Stack:New()\n-- myStack:Push(\"a\")\n-- myStack:Push(\"b\")\n-- myStack:Push(\"c\")\n-- myStack:PrintElement()\n-- print(myStack:Pop())\n-- myStack:PrintElement()\n-- myStack:Clear()\n-- myStack:PrintElement()\nStack = {}\nfunction Stack:New()\n    local inst = {\n        _last = 0,\n        _stack = {}\n    }\n    setmetatable(inst, {__index = self})\n\n    return inst\nend\n\nfunction Stack:IsEmpty()\n    if self._last == 0 then\n        return true\n    end\n    return false\nend\n\nfunction Stack:Push(inElement)\n    self._last = self._last + 1\n    self._stack[self._last] = inElement\nend\n\nfunction Stack:Pop()\n    if self:IsEmpty() then\n        --print(\"Error: the stack is empty\")\n        return\n    end\n    local value = self._stack[self._last]\n    self._stack[self._last] = nil\n    self._last = self._last - 1\n    return value\nend\n\nfunction Stack:Exists(element, compairFunc)\n    if compairFunc == nil then\n        compairFunc = function(a, b)\n            return a == b\n        end\n    end\n    for i = self._last, 1, -1 do\n        if compairFunc(element, self._stack[i]) then\n            return i\n        end\n    end\n    return -1\nend\n\nfunction Stack:RemoveAt(index)\n    if index < 1 or index > self._last then\n        return\n    end\n    table.remove(self._stack, index)\n    self._last = self._last - 1\nend\n\nfunction Stack:Clear()\n    self._stack = nil\n    self._stack = {}\n    self._last = 0\nend\n\nfunction Stack:Size()\n    return self._last\nend\n\nfunction Stack:PrintElement()\n    local str = '{'\n    for i = self._last, 1, -1 do\n        str = str .. tostring(self._stack[i]) .. ','\n    end\n    str = str .. '}'\n    print(str)\nend\n"}}]},{"class":"cScriptObject","name":"ModuleRequireScript","guid":[2221840009,1976321846,2245245619,407532979],"parentGuid":[344576033,1668630255,2683907297,2226597768],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"ModuleRequireScript"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":10,"class":"sLuaComponent","data":{"m_luaContent":"--- 将Global.Module目录下每一个用到模块提前require,定义为全局变量\n-- @script Module Defines\n-- @copyright Lilith Games, Avatar Team\n\n-- Log utility\nlocal LogUtil = require(Utility.LogUtilModule)\n-- 封装四个全局接口\ndebug = LogUtil.Debug\ninfo = LogUtil.Info\nwarn = LogUtil.Warn\nerror = LogUtil.Error\n\n-- 定义日志等级、开关\nLogUtil.level = LogUtil.LevelEnum.DEBUG\nLogUtil.debugMode = true\n\n-- Utilities\nNetUtil = require(Utility.NetUtilModule)\nCsvUtil = require(Utility.CsvUtilModule)\nEventUtil = require(Utility.EventUitlModule)\n\n-- Defines\nGlobalDef = require(Define.GlobalDefModule)\nConstDef = require(Define.ConstDefModule)\n\n-- Server Modules\nGameMgr = require(Module.S_Module.GameMgrModule)\nTimeMgr = require(Module.S_Module.TimeMgrModule)\nCsvConfig = require(Module.S_Module.CsvConfigModule)\nExampleA = require(Module.S_Module.ExampleAModule)\n\n-- Client Modules\nPlayerMgr = require(Module.C_Module.PlayerMgrModule)\nExampleB = require(Module.C_Module.ExampleBModule)\r\n\r\n-- Plugin Modules\r\nAnimationMain = require(world.Global.Plugin.FUNC_UIAnimation.Code.AnimationMainModule)\n"}}]},{"class":"cFolderObject","name":"Utility","guid":[1158799413,2751941742,3186700785,1570109853],"parentGuid":[344576033,1668630255,2683907297,2226597768],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"Utility"}},{"id":40000,"class":"sScriptHelperComponent","data":{}}]},{"class":"cModuleScriptObject","name":"NetUtilModule","guid":[3138092138,940262650,3093420508,667201143],"parentGuid":[1158799413,2751941742,3186700785,1570109853],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"NetUtilModule"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":10,"class":"sLuaComponent","data":{"m_luaContent":"--- 网路工具/事件工具\n-- @module Network utilities\n-- @copyright Lilith Games, Avatar Team\n-- @author Shang Ma, Yuancheng Zhang\nlocal NetUtil = {}\n\n--- 向指定的玩家发送消息\n-- @param @string _eventName 事件的名字\n-- @param _player 玩家对象\n-- @param ... 事件参数\nfunction NetUtil.Fire_C(_eventName, _player, ...)\n    if _player.Player == nil or _player.Player.ClassName ~= 'PlayerInstance' then\n        error('Fire_C 第二个参数需要是玩家对象,错误事件为 ', _eventName)\n        return\n    end\n    if _player.C_Event[_eventName] == nil then\n        error(string.format('玩家身上不存在%s事件', _eventName))\n        return\n    end\n    _player.C_Event[_eventName]:Fire(...)\n    debug(string.format('客户端事件: %s , 玩家: ', _eventName, _player.Name))\nend\n\n--- 向服务端发送消息\n-- @param @string _eventName 事件的名字(严格对应)\n-- @param ... 事件参数\nfunction NetUtil.Fire_S(_eventName, ...)\n    if world.S_Event[_eventName] == nil then\n        error(string.format('服务端不存在%s事件', _eventName))\n        return\n    end\n    world.S_Event[_eventName]:Fire(...)\n    info(string.format('服务器事件: %s', _eventName))\nend\n\n--- 客户端广播\n-- @param @string _eventName 事件的名字(严格对应)\n-- @param ... 事件参数\nfunction NetUtil.Broadcast(_eventName, ...)\n    world.Players:BroadcastEvent(_eventName, ...)\n    info(string.format('[信息] 客户端广播事件: %s ,参数为：%s ', _eventName, ...))\nend\n\nreturn NetUtil\n","m_scriptType":"kModuleScript"}}]},{"class":"cModuleScriptObject","name":"CsvUtilModule","guid":[3433342930,3050064207,3042438006,35244977],"parentGuid":[1158799413,2751941742,3186700785,1570109853],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"CsvUtilModule"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":10,"class":"sLuaComponent","data":{"m_luaContent":"--- 读表工具: 讲CSV导入成Lua Table，支持单一主键和多主键\n-- @module CSV Utility\n-- @copyright Lilith Games, Avatar Team\n-- @author Yuancheng Zhang\n-- @see https://wiki.lilithgames.com/x/RGEMAg\nlocal CsvUtil = {}\n\n--- 读取配置表,会根据id生成lua表\n-- @param _csv 表格\n-- @parma _id 表格的\n-- @parma _isPrimaryKey 是否为主键,默认值为true\n-- @usage exmaple #1 如果 _isPrimaryKey == true, 单一键值为主键\n-- Level.csv 表格内容为:\n-- ----------------------------------\n-- | String   | String     | Int    |\n-- | level_id | level_name | reward |\n-- | easy_01  | Level 01   | 100    |\n-- | easy_02  | Level 02   | 140    |\n-- | hard_01  | Level 03   | 280    |\n-- | hard_02  | Level 04   | 320    |\n-- ----------------------------------\n-- 调用函数 local levelCsv = CsvUtil.GetCsvInfo(Level, 'level_id', true) 导入的lua表格结果为:\n-- levelCsv = {\n--     easy_01 = {\n--         level_id = 'easy_01',\n--         level_name = 'Level 01',\n--         reward = 100\n--     },\n--     easy_02 = {\n--         level_id = 'easy_02',\n--         level_name = 'Level 02',\n--         reward = 140\n--     },\n--     hard_01 = {\n--         level_id = 'hard_01',\n--         level_name = 'Level 03',\n--         reward = 280\n--     },\n--     hard_02 = {\n--         level_id = 'hard_02',\n--         level_name = 'Level 04',\n--         reward = 320\n--     }\n-- }\n-- @usage exmaple #2 如果 _isPrimaryKey == false, 多键值为主键\n-- Enemy.csv 表格内容为:\n-- ----------------------------------\n-- | String   | String     | Int    |\n-- | enemy_id | difficulty | hp     |\n-- | foe_01   | easy       | 100    |\n-- | foe_01   | hard       | 150    |\n-- | foe_02   | easy       | 300    |\n-- | foe_02   | hard       | 400    |\n-- ----------------------------------\n-- 调用函数 local enemyCsv = CsvUtil.GetCsvInfo(Enemy, 'enemy_id', false) 导入的lua表格结果为:\n-- enemyCsv = {\n--     foe_01 = {\n--         [1] = {\n--             enemy_id = 'foe_01',\n--             difficulty = 'easy',\n--             hp = 100\n--         },\n--         [2] = {\n--             enemy_id = 'foe_02',\n--             difficulty = 'hard',\n--             hp = 150\n--         }\n--     },\n--     foe_02 = {\n--         [1] = {\n--             enemy_id = 'foe_02',\n--             difficulty = 'easy',\n--             hp = 300\n--         },\n--         [2] = {\n--             enemy_id = 'foe_02',\n--             difficulty = 'hard',\n--             hp = 400\n--         }\n--     }\n-- }\nfunction CsvUtil.GetCsvInfo(_csv, _id, _isPrimaryKey)\n    _isPrimaryKey = _isPrimaryKey or _isPrimaryKey == nil -- default is true\n    local tmp = _csv:GetRows()\n    local result = {}\n    if _id == 'Type' then\n        for _, v in pairs(tmp) do\n            table.insert(result, v)\n        end\n    else\n        for k, v in pairs(tmp) do\n            if v[_id] == nil then\n                error(string.format('CSV缺少参数：csv:%s, _id:%s', _csv.Name, _id))\n                return\n            end\n            if _isPrimaryKey then\n                -- id是唯一主键\n                if result[v[_id]] ~= nil then\n                    warn(string.format('CSV数据覆盖：csv:%s, _id:%s', _csv.Name, _id))\n                end\n                result[v[_id]] = v\n                v.Type = tonumber(k)\n            else\n                -- id不是主键,合并同id的数据\n                if result[v[_id]] == nil then\n                    result[v[_id]] = {}\n                end\n                table.insert(result[v[_id]], v)\n            end\n        end\n    end\n    info(string.format('CSV数据载入: _csv:%s', _csv.Name))\n    return result\nend\n\nreturn CsvUtil\n","m_scriptType":"kModuleScript"}}]},{"class":"cModuleScriptObject","name":"EventUitlModule","guid":[2990017477,1670333273,2674323178,1532840206],"parentGuid":[1158799413,2751941742,3186700785,1570109853],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"EventUitlModule"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":10,"class":"sLuaComponent","data":{"m_luaContent":"--- 事件绑定工具\n-- @module Event Connects Handler\n-- @copyright Lilith Games, Avatar Team\n-- @author Yuancheng Zhang\nlocal EventUtil = {}\n\n--- 遍历所有的events,找到module中对应名称的handler,建立Connect\n-- @param _eventFolder 事件所在的节点folder\n-- @param _module 模块\n-- @param _moduleName module的名字,用于打印日志\n-- @param _this module的self指针,用于闭包\nfunction EventUtil.LinkConnects(_eventFolder, _module, _moduleName, _this)\n    local events = _eventFolder:GetChildren()\n    local total = 0\n    for _, ent in pairs(events) do\n        if string.endswith(ent.Name, 'Event') then\n            local handler = _module[ent.Name .. 'Handler']\n            if handler ~= nil then\n                ent:Connect(\n                    function(...)\n                        handler(_this, ...)\n                    end\n                )\n                debug(string.format('%s/%s 事件绑定%s成功', _eventFolder.Name, ent.Name, _moduleName))\n                total = total + 1\n            end\n        else\n            warn(string.format('S_Event/%s 命名没有以Event结尾', ent.Name))\n        end\n    end\n    debug(string.format('%s共绑定%s个事件', _moduleName, total))\nend\n\nreturn EventUtil\n","m_scriptType":"kModuleScript"}}]},{"class":"cModuleScriptObject","name":"LogUtilModule","guid":[331530011,3698477199,2826898349,1604055611],"parentGuid":[1158799413,2751941742,3186700785,1570109853],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"LogUtilModule"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":10,"class":"sLuaComponent","data":{"m_luaContent":"--- Debug工具\n-- @module Debug utilities\n-- @copyright Lilith Games, Avatar Team\n-- @author Yuancheng Zhang\nlocal LogUtil = {}\n\n--- 日志级别枚举\nLogUtil.LevelEnum = {\n    -- 指出细粒度信息事件对调试应用程序是非常有帮助的 主要用于开发过程中打印一些运行信息\n    DEBUG = 1,\n    -- 消息在粗粒度级别上突出强调应用程序的运行过程\n    -- 打印一些你感兴趣的或者重要的信息 这个可以用于生产环境中输出程序运行的一些重要信息\n    -- 但是不能滥用 避免打印过多的日志\n    INFO = 2,\n    -- 表明会出现潜在错误的情形 有些信息不是错误信息 但是也要给程序员的一些提示\n    WARN = 3,\n    -- 指出虽然发生错误事件 但仍然不影响系统的继续运行\n    -- 打印错误和异常信息 如果不想输出太多的日志 可以使用这个级别\n    ERROR = 4\n}\n\n--- 日志级别\nLogUtil.level = LogUtil.LevelEnum.DEBUG\n\n--- 开关\nLogUtil.debugMode = true\n\nfunction LogUtil.Debug(...)\n    if LogUtil.debugMode and LogUtil.level <= LogUtil.LevelEnum.DEBUG then\n        print('[DEBUG]', ...)\n    end\nend\n\nfunction LogUtil.Info(...)\n    if LogUtil.debugMode and LogUtil.level <= LogUtil.LevelEnum.INFO then\n        print('[INFO]', ...)\n    end\nend\n\nfunction LogUtil.Warn(...)\n    if LogUtil.debugMode and LogUtil.level <= LogUtil.LevelEnum.WARN then\n        print('[WARN]', ...)\n    end\nend\n\nfunction LogUtil.Error(...)\n    if LogUtil.debugMode and LogUtil.level <= LogUtil.LevelEnum.ERROR then\n        print('[ERROR]', ...)\n    end\nend\n\nreturn LogUtil\n","m_scriptType":"kModuleScript"}}]},{"class":"cFolderObject","name":"Plugin","guid":[3421449223,220021494,2714239174,1946870819],"parentGuid":[344576033,1668630255,2683907297,2226597768],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"Plugin"}},{"id":40000,"class":"sScriptHelperComponent","data":{}}]},{"class":"cFolderObject","name":"FUNC_UIAnimation","guid":[1331349991,2616282402,2630754420,1905460436],"parentGuid":[3421449223,220021494,2714239174,1946870819],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"FUNC_UIAnimation"}},{"id":40000,"class":"sScriptHelperComponent","data":{}}]},{"class":"cModuleScriptObject","name":"ReadMe","guid":[2979943216,551765364,2248158137,2732055024],"parentGuid":[1331349991,2616282402,2630754420,1905460436],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"ReadMe"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":10,"class":"sLuaComponent","data":{"m_luaContent":"--[[\n\n播放动画:\nStartAnimationEvent:Fire(string _AnimationName,bool _isRunBack)\n\t_AnimationName:需要播放的动画名称\n\t _isRunBack:是否倒放,true为倒放,缺省或false为倒放\n监听动画状态:\nAnimationStateEvent:Connect(function(_string AnimationName, _string Tag) end)\n\t_AnimationName:监听的动画名称 \n\t_Tag:动画状态.默认在设置完初始帧后返回'Start',在完成最后一帧后返回'Complete'.在设置有Tag的关键帧处返回Tag\n\t\n配置表:\n!!!!!!!!!!注:因为配置表不填会有默认数据,所以配置表中0与0,0被设置为了无效数据,需要零值的可以用0.01代替!!!!!!!\n\nType:默认字段\nAnimationName:动画名,同一段动画可以设置多个UI控件的改变,作为StartAnimationEvent的参数传入\nCount:总帧数,在每段动画的第一行填写,播放完该帧后则停止该段动画播放并传回'Complete'\nUINode:动画所绑定的UI控件节点,目前仅支持Local下的动画节点,以Local.开头,否则无法找到动画节点.每个节点的动画帧独立设置\nIsInit:是否为初始帧,每一个UI节点动画的第一行配置该节点的初始状态,将IsInit设置为true,KeyFrame设置为0.初始帧会在动画播放前设置完毕,然后传回'Start'\nKeyFrame:关键帧,单位为\"帧\",必须按顺序设置,0帧为初始帧.如果乱序设置会出现未知的错误\nSize..Alpha:各项UI属性\nTag:动画监听标签,在播放到该帧的时候会将Tag传回监听事件中\nType:速度变化方式,枚举值,目前仅有'Linear',缺省默认'Linear'\n\n同一个界面同时的动画需要写在同一段动画中,目前不允许同时播放两段动画,避免意外的错误\n\n--]]\n","m_scriptType":"kModuleScript"}}]},{"class":"cFolderObject","name":"Code","guid":[2747130650,1726107529,2983478535,4170811724],"parentGuid":[1331349991,2616282402,2630754420,1905460436],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"Code"}},{"id":40000,"class":"sScriptHelperComponent","data":{}}]},{"class":"cModuleScriptObject","name":"DataModule","guid":[2329789835,1245463234,2338128988,1464284537],"parentGuid":[2747130650,1726107529,2983478535,4170811724],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"DataModule"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":10,"class":"sLuaComponent","data":{"m_luaContent":"local DataModule = {Data = {}}\r\n\r\n--初始化函数,读取动画表\r\nfunction DataModule:Init()\r\n    if localPlayer == nil then\r\n        return\r\n    end\r\n    local InfoTable = world.Global.Csv.UIAnimation\r\n    local RowNum = InfoTable:GetRowNum()\r\n    for i = 1, RowNum do\r\n        local AnimationName = InfoTable:GetCell('AnimationName', i)\r\n        --如果该数据的动画名为新增,则在数据表中新插入一段空的动画数据\r\n        if self.Data[AnimationName] == nil then\r\n            self.Data[AnimationName] = {}\r\n            self.Data[AnimationName].count = InfoTable:GetCell('Count', i)\r\n        end\r\n\r\n        --解析UI节点路径,获取UI节点\r\n        local PathStr = InfoTable:GetCell('UINode', i)\r\n        local UiPath = string.split(InfoTable:GetCell('UINode', i), '.')\r\n        local UiNode\r\n        if UiPath[1] == 'Local' then\r\n            UiNode = localPlayer\r\n            for k, v in pairs(UiPath) do\r\n                if UiNode[v] then\r\n                    UiNode = UiNode[v]\r\n                else\r\n                    print('AnimationName = ', AnimationName, 'The Path NotFind:', v, 'in', UiPath)\r\n                    return\r\n                end\r\n            end\r\n        else\r\n            print('暂时不支持Local以外的UI节点动画')\r\n            return\r\n        end\r\n\r\n        --判断初始帧,并执行初始帧逻辑\r\n        if InfoTable:GetCell('IsInit', i) == true then\r\n            --记录初始帧\r\n            self.Data[AnimationName][PathStr] = {}\r\n            local NowData = self.Data[AnimationName][PathStr]\r\n            NowData.Obj = UiNode\r\n            NowData.KeyFrame = {}\r\n            NowData.Init = {}\r\n            NowData.PerFrame = {}\r\n            if InfoTable:GetCell('Size', i) ~= Vector2(0, 0) then\r\n                NowData.Init.Size = InfoTable:GetCell('Size', i)\r\n            end\r\n            if InfoTable:GetCell('AnchorsX', i) ~= Vector2(0, 0) then\r\n                NowData.Init.AnchorsX = InfoTable:GetCell('AnchorsX', i)\r\n            end\r\n            if InfoTable:GetCell('AnchorsY', i) ~= Vector2(0, 0) then\r\n                NowData.Init.AnchorsY = InfoTable:GetCell('AnchorsY', i)\r\n            end\r\n            if InfoTable:GetCell('Angle', i) ~= 0 then\r\n                NowData.Init.Angle = InfoTable:GetCell('Angle', i)\r\n            end\r\n            if InfoTable:GetCell('Offset', i) ~= Vector2(0, 0) then\r\n                NowData.Init.Offset = InfoTable:GetCell('Offset', i)\r\n            end\r\n            if InfoTable:GetCell('Alpha', i) ~= 0 then\r\n                NowData.Init.Alpha = InfoTable:GetCell('Alpha', i)\r\n            end\r\n        else\r\n            --配置表初始帧配置校验\r\n            if self.Data[AnimationName][PathStr] == nil then\r\n                print(AnimationName, '未配置初始帧,配表错误')\r\n                return\r\n            end\r\n            local tFrame, tSize, tAnchorsX, tAnchorsY, tAngle, tOffset, tAlpha, tTag\r\n            --记录关键帧数据\r\n            tType = InfoTable:GetCell('Type', i)\r\n            if tType == '' then\r\n                tType = 'Linear'\r\n            end\r\n            if InfoTable:GetCell('KeyFrame', i) ~= Vector2(0, 0) then\r\n                tFrame = InfoTable:GetCell('KeyFrame', i)\r\n            end\r\n            if InfoTable:GetCell('Size', i) ~= Vector2(0, 0) then\r\n                tSize = InfoTable:GetCell('Size', i)\r\n            end\r\n            if InfoTable:GetCell('AnchorsX', i) ~= Vector2(0, 0) then\r\n                tAnchorsX = InfoTable:GetCell('AnchorsX', i)\r\n            end\r\n            if InfoTable:GetCell('AnchorsY', i) ~= Vector2(0, 0) then\r\n                tAnchorsY = InfoTable:GetCell('AnchorsY', i)\r\n            end\r\n            if InfoTable:GetCell('Angle', i) ~= 0 then\r\n                tAngle = InfoTable:GetCell('Angle', i)\r\n            end\r\n            if InfoTable:GetCell('Offset', i) ~= Vector2(0, 0) then\r\n                tOffset = InfoTable:GetCell('Offset', i)\r\n            end\r\n            if InfoTable:GetCell('Alpha', i) ~= 0 then\r\n                tAlpha = InfoTable:GetCell('Alpha', i)\r\n            end\r\n            if InfoTable:GetCell('Tag', i) ~= '' then\r\n                tTag = InfoTable:GetCell('Tag', i)\r\n            end\r\n\r\n            OneFrame = {\r\n                Frame = tFrame,\r\n                Size = tSize,\r\n                AnchorsX = tAnchorsX,\r\n                AnchorsY = tAnchorsY,\r\n                Angle = tAngle,\r\n                Offset = tOffset,\r\n                Alpha = tAlpha,\r\n                Tag = tTag,\r\n                Type = tType\r\n            }\r\n            table.insert(self.Data[AnimationName][PathStr].KeyFrame, OneFrame)\r\n        end\r\n    end\r\nend\r\n\r\nfunction DataModule:Calculate(DataName)\r\n    for k, v in pairs(self.Data[DataName]) do\r\n        local NowKeyFrame = 0\r\n        local NextKeyFrame = 0\r\n        if k ~= 'count' then\r\n            --Tag\r\n            for i = 1, #v.KeyFrame do\r\n                if v.KeyFrame[i].Tag then\r\n                    if v.PerFrame[v.KeyFrame[i].Frame] == nil then\r\n                        v.PerFrame[v.KeyFrame[i].Frame] = {}\r\n                    end\r\n                    v.PerFrame[v.KeyFrame[i].Frame].Tag = v.KeyFrame[i].Tag\r\n                end\r\n            end\r\n\r\n            --Alpha\r\n            for i = 1, #v.KeyFrame do\r\n                if v.KeyFrame[i].Alpha then\r\n                    NowKeyFrame = i\r\n                    NextKeyFrame = i\r\n                    break\r\n                end\r\n            end\r\n            if NowKeyFrame ~= 0 then\r\n                while next(v.KeyFrame, NextKeyFrame) do\r\n                    local _, temp = next(v.KeyFrame, NextKeyFrame)\r\n                    NextKeyFrame = next(v.KeyFrame, NextKeyFrame)\r\n                    if temp.Alpha then\r\n                        local n = v.KeyFrame[NowKeyFrame].Frame\r\n                        local Count = v.KeyFrame[NextKeyFrame].Frame - v.KeyFrame[NowKeyFrame].Frame\r\n                        local PerFrame =\r\n                            DataModule:Interpolation(\r\n                            v.KeyFrame[NowKeyFrame].Alpha,\r\n                            v.KeyFrame[NowKeyFrame].Type,\r\n                            v.KeyFrame[NextKeyFrame].Alpha,\r\n                            v.KeyFrame[NextKeyFrame].Type,\r\n                            Count\r\n                        )\r\n                        for i = n + 1, n + Count do\r\n                            if v.PerFrame[i] == nil then\r\n                                v.PerFrame[i] = {}\r\n                            end\r\n                            v.PerFrame[i].Alpha = PerFrame[i - n]\r\n                        end\r\n                        NowKeyFrame = NextKeyFrame\r\n                    end\r\n                end\r\n            end\r\n\r\n            --Offset\r\n            NowKeyFrame = 0\r\n            for i = 1, #v.KeyFrame do\r\n                if v.KeyFrame[i].Offset then\r\n                    NowKeyFrame = i\r\n                    NextKeyFrame = i\r\n                    break\r\n                end\r\n            end\r\n            if NowKeyFrame ~= 0 then\r\n                while next(v.KeyFrame, NextKeyFrame) do\r\n                    local _, temp = next(v.KeyFrame, NextKeyFrame)\r\n                    NextKeyFrame = next(v.KeyFrame, NextKeyFrame)\r\n                    if temp.Offset then\r\n                        local n = v.KeyFrame[NowKeyFrame].Frame\r\n                        local Count = v.KeyFrame[NextKeyFrame].Frame - v.KeyFrame[NowKeyFrame].Frame\r\n                        local PerFrame =\r\n                            DataModule:Interpolation(\r\n                            v.KeyFrame[NowKeyFrame].Offset,\r\n                            v.KeyFrame[NowKeyFrame].Type,\r\n                            v.KeyFrame[NextKeyFrame].Offset,\r\n                            v.KeyFrame[NextKeyFrame].Type,\r\n                            Count\r\n                        )\r\n                        for i = n + 1, n + Count do\r\n                            if v.PerFrame[i] == nil then\r\n                                v.PerFrame[i] = {}\r\n                            end\r\n                            v.PerFrame[i].Offset = PerFrame[i - n]\r\n                        end\r\n                        NowKeyFrame = NextKeyFrame\r\n                    end\r\n                end\r\n            end\r\n\r\n            --Size\r\n            NowKeyFrame = 0\r\n            for i = 1, #v.KeyFrame do\r\n                if v.KeyFrame[i].Size then\r\n                    NowKeyFrame = i\r\n                    NextKeyFrame = i\r\n                    break\r\n                end\r\n            end\r\n            if NowKeyFrame ~= 0 then\r\n                while next(v.KeyFrame, NextKeyFrame) do\r\n                    local _, temp = next(v.KeyFrame, NextKeyFrame)\r\n                    NextKeyFrame = next(v.KeyFrame, NextKeyFrame)\r\n                    if temp.Size then\r\n                        local n = v.KeyFrame[NowKeyFrame].Frame\r\n                        local Count = v.KeyFrame[NextKeyFrame].Frame - v.KeyFrame[NowKeyFrame].Frame\r\n                        local PerFrame =\r\n                            DataModule:Interpolation(\r\n                            v.KeyFrame[NowKeyFrame].Size,\r\n                            v.KeyFrame[NowKeyFrame].Type,\r\n                            v.KeyFrame[NextKeyFrame].Size,\r\n                            v.KeyFrame[NextKeyFrame].Type,\r\n                            Count\r\n                        )\r\n                        for i = n + 1, n + Count do\r\n                            if v.PerFrame[i] == nil then\r\n                                v.PerFrame[i] = {}\r\n                            end\r\n                            v.PerFrame[i].Size = PerFrame[i - n]\r\n                        end\r\n                        NowKeyFrame = NextKeyFrame\r\n                    end\r\n                end\r\n            end\r\n\r\n            --AnchorsX\r\n            NowKeyFrame = 0\r\n            for i = 1, #v.KeyFrame do\r\n                if v.KeyFrame[i].AnchorsX then\r\n                    NowKeyFrame = i\r\n                    NextKeyFrame = i\r\n                    break\r\n                end\r\n            end\r\n            if NowKeyFrame ~= 0 then\r\n                while next(v.KeyFrame, NextKeyFrame) do\r\n                    local _, temp = next(v.KeyFrame, NextKeyFrame)\r\n                    NextKeyFrame = next(v.KeyFrame, NextKeyFrame)\r\n                    if temp.AnchorsX then\r\n                        local n = v.KeyFrame[NowKeyFrame].Frame\r\n                        local Count = v.KeyFrame[NextKeyFrame].Frame - v.KeyFrame[NowKeyFrame].Frame\r\n                        local PerFrame =\r\n                            DataModule:Interpolation(\r\n                            v.KeyFrame[NowKeyFrame].AnchorsX,\r\n                            v.KeyFrame[NowKeyFrame].Type,\r\n                            v.KeyFrame[NextKeyFrame].AnchorsX,\r\n                            v.KeyFrame[NextKeyFrame].Type,\r\n                            Count\r\n                        )\r\n                        for i = n + 1, n + Count do\r\n                            if v.PerFrame[i] == nil then\r\n                                v.PerFrame[i] = {}\r\n                            end\r\n                            v.PerFrame[i].AnchorsX = PerFrame[i - n]\r\n                        end\r\n                        NowKeyFrame = NextKeyFrame\r\n                    end\r\n                end\r\n            end\r\n\r\n            --AnchorsY\r\n            NowKeyFrame = 0\r\n            for i = 1, #v.KeyFrame do\r\n                if v.KeyFrame[i].AnchorsY then\r\n                    NowKeyFrame = i\r\n                    NextKeyFrame = i\r\n                    break\r\n                end\r\n            end\r\n            if NowKeyFrame ~= 0 then\r\n                while next(v.KeyFrame, NextKeyFrame) do\r\n                    local _, temp = next(v.KeyFrame, NextKeyFrame)\r\n                    NextKeyFrame = next(v.KeyFrame, NextKeyFrame)\r\n                    if temp.AnchorsY then\r\n                        local n = v.KeyFrame[NowKeyFrame].Frame\r\n                        local Count = v.KeyFrame[NextKeyFrame].Frame - v.KeyFrame[NowKeyFrame].Frame\r\n                        local PerFrame =\r\n                            DataModule:Interpolation(\r\n                            v.KeyFrame[NowKeyFrame].AnchorsY,\r\n                            v.KeyFrame[NowKeyFrame].Type,\r\n                            v.KeyFrame[NextKeyFrame].AnchorsY,\r\n                            v.KeyFrame[NextKeyFrame].Type,\r\n                            Count\r\n                        )\r\n                        for i = n + 1, n + Count do\r\n                            if v.PerFrame[i] == nil then\r\n                                v.PerFrame[i] = {}\r\n                            end\r\n                            v.PerFrame[i].AnchorsY = PerFrame[i - n]\r\n                        end\r\n                        NowKeyFrame = NextKeyFrame\r\n                    end\r\n                end\r\n            end\r\n\r\n            --Angle\r\n            NowKeyFrame = 0\r\n            for i = 1, #v.KeyFrame do\r\n                if v.KeyFrame[i].Angle then\r\n                    NowKeyFrame = i\r\n                    NextKeyFrame = i\r\n                    break\r\n                end\r\n            end\r\n            if NowKeyFrame ~= 0 then\r\n                while next(v.KeyFrame, NextKeyFrame) do\r\n                    local _, temp = next(v.KeyFrame, NextKeyFrame)\r\n                    NextKeyFrame = next(v.KeyFrame, NextKeyFrame)\r\n                    if temp.Angle then\r\n                        local n = v.KeyFrame[NowKeyFrame].Frame\r\n                        local Count = v.KeyFrame[NextKeyFrame].Frame - v.KeyFrame[NowKeyFrame].Frame\r\n                        local PerFrame =\r\n                            DataModule:Interpolation(\r\n                            v.KeyFrame[NowKeyFrame].Angle,\r\n                            v.KeyFrame[NowKeyFrame].Type,\r\n                            v.KeyFrame[NextKeyFrame].Angle,\r\n                            v.KeyFrame[NextKeyFrame].Type,\r\n                            Count\r\n                        )\r\n                        for i = n + 1, n + Count do\r\n                            if v.PerFrame[i] == nil then\r\n                                v.PerFrame[i] = {}\r\n                            end\r\n                            v.PerFrame[i].Angle = PerFrame[i - n]\r\n                        end\r\n                        NowKeyFrame = NextKeyFrame\r\n                    end\r\n                end\r\n            end\r\n        end\r\n    end\r\nend\r\n\r\nfunction DataModule:Interpolation(_ParaOne, _TypeOne, _ParaTwo, _TypeTwo, _Count)\r\n    local Result = {}\r\n    if _TypeOne == 'Linear' and _TypeTwo == 'Linear' then\r\n        for i = 1, _Count do\r\n            local Frame = _ParaOne * (_Count - i) / _Count + _ParaTwo * i / _Count\r\n            table.insert(Result, Frame)\r\n        end\r\n    end\r\n    return Result\r\nend\r\n\r\nreturn DataModule\r\n","m_scriptType":"kModuleScript"}}]},{"class":"cModuleScriptObject","name":"AnimationMainModule","guid":[2680157156,1245725629,2963263301,1750898223],"parentGuid":[2747130650,1726107529,2983478535,4170811724],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"AnimationMainModule"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":10,"class":"sLuaComponent","data":{"m_luaContent":"local AnimationMain = {}\r\n\r\nfunction AnimationMain:Init()\r\n\tself.onPlay = false\r\n\tself:InitListeners()\r\n\tself.DataModule = require(world.Global.Plugin.FUNC_UIAnimation.Code.DataModule)\r\nend\r\n\r\nfunction AnimationMain:InitListeners()\r\n    EventUtil.LinkConnects(localPlayer.C_Event, AnimationMain, 'AnimationMain', this)\r\nend\r\n\r\nfunction AnimationMain:StartAnimationEventHandler(_dataName,_isBackRun)\r\n\t--判断是否已经有动画正在播放中\r\n    if self.onPlay then\r\n        warn('不允许同时播放两段动画')\r\n        return\r\n    end\r\n\r\n    self.onPlay = true\r\n\r\n    self.DataModule:Calculate(DataName)\r\n    local Data = self.DataModule.Data[DataName]\r\n    if Data.count == nil or Data.count == 0 then\r\n        error('配表错误,请填写动画数据的帧数')\r\n        return\r\n    end\r\n    if isBackRun == nil or isBackRun == false then\r\n        for k, v in pairs(Data) do\r\n            if k ~= 'count' then\r\n                self.InsertParameter(v.Obj, v.Init)\r\n            end\r\n        end\r\n        localPlayer.C_Event.AnimationStateEvent:Fire(DataName, 'Start')\r\n        for i = 1, Data.count do\r\n            wait(0.016)\r\n            for k, v in pairs(Data) do\r\n                if k ~= 'count' and v.PerFrame[i] then\r\n                    self.InsertParameter(v.Obj, v.PerFrame[i], DataName)\r\n                end\r\n            end\r\n        end\r\n    elseif isBackRun == true then\r\n        for k, v in pairs(Data) do\r\n            if k ~= 'count' then\r\n                self.InsertParameter(v.Obj, v.PerFrame[#v.PerFrame])\r\n            end\r\n        end\r\n        localPlayer.C_Event.AnimationStateEvent:Fire(DataName, 'Start')\r\n        for i = 1, Data.count do\r\n            wait(0.016)\r\n            for k, v in pairs(Data) do\r\n                if k ~= 'count' and v.PerFrame[Data.count - i + 1] then\r\n                    self.InsertParameter(v.Obj, v.PerFrame[Data.count - i + 1], DataName)\r\n                end\r\n            end\r\n        end\r\n    end\r\n    localPlayer.C_Event.AnimationStateEvent:Fire(DataName, 'Complete')\r\n    self.onPlay = false\r\nend\r\n\r\nfunction AnimationMain:InsertParameter(UIObj, ParaTable, DataName)\r\n    if ParaTable.Size then\r\n        UIObj.Size = ParaTable.Size\r\n    end\r\n    if ParaTable.AnchorsX then\r\n        UIObj.AnchorsX = ParaTable.AnchorsX\r\n    end\r\n    if ParaTable.AnchorsY then\r\n        UIObj.AnchorsY = ParaTable.AnchorsY\r\n    end\r\n    if ParaTable.Angle then\r\n        UIObj.Angle = ParaTable.Angle\r\n    end\r\n    if ParaTable.Offset then\r\n        UIObj.Offset = ParaTable.Offset\r\n    end\r\n    if ParaTable.Alpha then\r\n        UIObj.Alpha = ParaTable.Alpha\r\n        for k, v in pairs(UIObj:GetChildren()) do\r\n            if v.Alpha then\r\n                v.Alpha = ParaTable.Alpha\r\n            end\r\n            for k2, v2 in pairs(v:GetChildren()) do\r\n                if v2.Alpha then\r\n                    v2.Alpha = ParaTable.Alpha\r\n                end\r\n            end\r\n        end\r\n    end\r\n    if ParaTable.Tag then\r\n        localPlayer.C_Event.AnimationStateEvent:Fire(DataName, ParaTable.Tag)\r\n    end\r\nend\r\n\r\nreturn AnimationMain","m_scriptType":"kModuleScript"}}]},{"class":"cFolderObject","name":"Define","guid":[3643209718,4192551772,2636302611,3473650035],"parentGuid":[344576033,1668630255,2683907297,2226597768],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"Define"}},{"id":40000,"class":"sScriptHelperComponent","data":{}}]},{"class":"cModuleScriptObject","name":"GlobalDefModule","guid":[3584163079,3374337710,2390188471,2399437392],"parentGuid":[3643209718,4192551772,2636302611,3473650035],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"GlobalDefModule"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":10,"class":"sLuaComponent","data":{"m_luaContent":"--- 全局变量的定义,全部定义在GlobalDef这张表下面,用于全局可修改的参数\n-- @module Global Defines\n-- @copyright Lilith Games, Avatar Team\nlocal GlobalDef = {}\n\n-- e.g. (need DELETE)\nGlobalDef.a = 123\n\nGlobalDef.b = {\n    tom = '1231',\n    bob = '23423'\n}\n\n-- TODO: other constant defines\n\nreturn GlobalDef\n","m_scriptType":"kModuleScript"}}]},{"class":"cModuleScriptObject","name":"ConstDefModule","guid":[1768866970,2821735027,2612949907,3460044805],"parentGuid":[3643209718,4192551772,2636302611,3473650035],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"ConstDefModule"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":10,"class":"sLuaComponent","data":{"m_luaContent":"--- 全局常量的定义,全部定义在ConstDef这张表下面,用于定义全局常量参数或者枚举类型\n-- @module Constant Defines\n-- @copyright Lilith Games, Avatar Team\nlocal ConstDef = {}\n\n-- e.g. (need DELETE)\nConstDef.MAX_PLAYERS = 4\n\nConstDef.MonsterTypeEnum = {\n    FOE = 0,\n    VILLAGER = 1,\n    BOSS = 2\n}\n\n-- TODO: other constant defines\n\nreturn ConstDef\n","m_scriptType":"kModuleScript"}}]},{"class":"cFolderObject","name":"Module","guid":[2883110320,3875490972,2778882821,1569891889],"parentGuid":[344576033,1668630255,2683907297,2226597768],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"Module"}},{"id":40000,"class":"sScriptHelperComponent","data":{}}]},{"class":"cFolderObject","name":"S_Module","guid":[2325219688,3448000480,2204321929,4246846969],"parentGuid":[2883110320,3875490972,2778882821,1569891889],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"S_Module"}},{"id":40000,"class":"sScriptHelperComponent","data":{}}]},{"class":"cModuleScriptObject","name":"GameMgrModule","guid":[112830824,171854255,2946136964,1894336579],"parentGuid":[2325219688,3448000480,2204321929,4246846969],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"GameMgrModule"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":10,"class":"sLuaComponent","data":{"m_luaContent":"--- 游戏服务器主逻辑\n-- @module Game Manager, Server-side\n-- @copyright Lilith Games, Avatar Team\n-- @author XXX, XXXX\nlocal GameMgr, this =\n    {\n        isRun = false,\n        baseTime = 0, -- 游戏开始的时间戳\n        dt = 0, -- delta time 每帧时间\n        tt = 0 -- total time 游戏总时间\n    },\n    nil\n\nlocal now = os.clock -- 用于lua优化\n\n--- 初始化\nfunction GameMgr:Init()\n    info('GameMgr:Init')\n    this = self\n    self.baseTime = now()\n    self:InitListeners()\n\n    TimeMgr:Init()\n    CsvConfig:Init()\n\n    -- TODO: 其他服务器模块初始化\n    ExampleA:Init()\nend\n\n--- 初始化Game Manager自己的监听事件\nfunction GameMgr:InitListeners()\n    EventUtil.LinkConnects(world.S_Event, GameMgr, 'GameMgr', this)\nend\n\n--- Update函数\n-- @param dt delta time 每帧时间\nfunction GameMgr:Update(dt, tt)\n    -- TODO: 其他服务器模块Update\n    ExampleA:Update(dt, tt)\nend\n\n--- 开始Update\nfunction GameMgr:StartUpdate()\n    info('GameMgr:StartUpdate')\n    if self.isRun then\n        warn('GameMgr:StartUpdate 正在运行')\n        return\n    end\n\n    self.isRun = true\n\n    local prevTime, nowTime = now(), nil -- two timestamps\n    while (self.isRun and wait()) do\n        nowTime = now()\n        self.dt = nowTime - prevTime\n        self.tt = nowTime - self.baseTime\n        self:Update(self.dt, self.tt)\n        prevTime = nowTime\n    end\nend\n\n--- 停止Update\nfunction GameMgr:StopUpdate()\n    info('GameMgr:StopUpdate')\n    self.isRun = false\nend\n\n--- TEST ONLY 处理Example01CustomEvent事件\n-- 函数命名格式为 事件名 + 'Handler'\nfunction GameMgr:Example01CustomEventHandler()\n    debug('收到Example01CustomEvent')\n    self:StartUpdate()\nend\n\n--- TEST ONLY 处理Example02CustomEvent事件\n-- 函数命名格式为 事件名 + 'Handler'\nfunction GameMgr:Example02CustomEventHandler()\n    debug('收到Example02CustomEvent')\n    debug('打印预加载的表格Example01,单一主键')\n    table.dump(CsvConfig.Example01)\n    debug('打印预加载的表格Example01,多主键')\n    table.dump(CsvConfig.Example02)\nend\n\n--- TEST ONLY 处理Example02CustomEvent事件\n-- 函数命名格式为 事件名 + 'Handler'\nfunction GameMgr:Example03CustomEventHandler()\n    debug('[信息] 收到Example03CustomEvent')\n    self:StopUpdate()\nend\n\nreturn GameMgr\n","m_scriptType":"kModuleScript"}}]},{"class":"cModuleScriptObject","name":"CsvConfigModule","guid":[112798298,387337249,2420484563,3059665706],"parentGuid":[2325219688,3448000480,2204321929,4246846969],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"CsvConfigModule"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":10,"class":"sLuaComponent","data":{"m_luaContent":"--- 游戏表格处理\n-- @module Csv Config Load\n-- @copyright Lilith Games, Avatar Team\n-- @author Yuancheng Zhang\nlocal CsvConfig = {\n    -- TEST ONLY 需要预先加载为Lua Table的表格名称\n    preLoad = {\n        {\n            csv = 'Example01',\n            id = 'level_id',\n            isPrimary = true\n        },\n        {\n            csv = 'Example02',\n            id = 'enemy_id',\n            isPrimary = false\n        }\n    }\n}\n\n--- 初始化:加载所有预加载表格\nfunction CsvConfig:Init()\n    info('CsvConfig:Init')\n    self:PreloadCsv()\nend\n\nfunction CsvConfig:PreloadCsv()\n    info('CsvConfig:PreloadCsv')\n    for _, pl in pairs(self.preLoad) do\n        if not string.isnilorempty(pl.csv) and not string.isnilorempty(pl.id) then\n            self[pl.csv] = CsvUtil.GetCsvInfo(Csv[pl.csv], pl.id, pl.isPrimary)\n        end\n    end\nend\n\nreturn CsvConfig\n","m_scriptType":"kModuleScript"}}]},{"class":"cModuleScriptObject","name":"TimeMgrModule","guid":[284737459,3705621769,2322183270,2078970709],"parentGuid":[2325219688,3448000480,2204321929,4246846969],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"TimeMgrModule"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":10,"class":"sLuaComponent","data":{"m_luaContent":"--- 时间管理器模块\n-- @module Module Time Manager\n-- @copyright Lilith Games, Avatar Team\n-- @author Bingyun Chen, Yuancheng Zhang\n-- @see the functions defined by JavaScript syntax\n\nlocal TimeMgr = {}\n\n-- All registered events\nlocal eventList = {}\n\n-- Current active event list\nlocal activeEvents = {}\n\nlocal running = false\n\n-- Set update delta time\nlocal DELTA_TIME = 1\n\n-- Temporary varables\nlocal now, event, i\n\n--- Find all registered events to trigger\nlocal function CheckEvents()\n    now = os.time()\n    i = 1\n    while i <= #eventList do\n        event = eventList[i]\n        if event.triggerTime <= now then\n            table.insert(activeEvents, event)\n            if event.loop then\n                event.triggerTime = event.triggerTime + event.delay\n                i = i + 1\n            else\n                table.remove(eventList, i)\n            end\n        else\n            i = i + 1\n        end\n    end\nend\n\n--- Trigger events\nlocal function TriggerEvents()\n    i = 1\n    while i <= #activeEvents do\n        event = activeEvents[i]\n        invoke(event.func)\n        table.remove(activeEvents, i)\n    end\nend\n\n--- Update\nlocal function Update()\n    while running do\n        -- print(os.time())\n        CheckEvents()\n        TriggerEvents()\n        wait(DELTA_TIME)\n    end\nend\n\n--- Initialization\nfunction TimeMgr.Init()\n    TimeMgr.Start()\nend\n\n--- Run Update()\nfunction TimeMgr.Start()\n    running = true\n    invoke(Update)\nend\n\n--- Stop Update()\nfunction TimeMgr.Stop()\n    running = false\nend\n\n--- Call a function after a specified number of milliseconds,\n-- use ClearTimeout() method to prevent the function from running\n-- @param _func execution function to call\n-- @param _delayTime\n-- @return timer id\n-- @see https://www.w3schools.com/jsref/met_win_settimeout.asp\nfunction TimeMgr.SetTimeout(_func, _seconds)\n    if _func == nil then\n        error('TimeMgr.SetTimeout() _func 不能为空')\n        return\n    elseif _seconds < 1 then\n        error('TimeMgr.SetTimeout() _seconds 最小时间单位是1s')\n        return\n    end\n    local id = #eventList + 1\n    local timestamp = _seconds + os.time()\n    table.insert(\n        eventList,\n        {\n            id = id,\n            func = _func,\n            delay = _seconds,\n            triggerTime = timestamp\n        }\n    )\n    return id\nend\n\n--- Call a function or evaluates an expression at specified intervals (in milliseconds),\n-- the method will continue calling the function until ClearInterval() is called, or the game is over.\n-- @param _func execution function to call\n-- @param _delayTime\n-- @return timer id\n-- @see https://www.w3schools.com/jsref/met_win_setinterval.asp\nfunction TimeMgr.SetInterval(_func, _seconds)\n    if _func == nil then\n        print('[错误] TimeMgr.SetInterval() _func 不能为空')\n        return\n    elseif _seconds < 1 then\n        print('[错误] TimeMgr.SetInterval() 最小时间单位是1s')\n        return\n    end\n    local id = #eventList + 1\n    local timestamp = _seconds + os.time()\n    table.insert(\n        eventList,\n        {\n            id = id,\n            func = _func,\n            delay = _seconds,\n            triggerTime = timestamp,\n            loop = true\n        }\n    )\n    return id\nend\n\n--- Clear a timer set with the SetTimeout() method\n-- @param _id timmer id\n-- @see https://www.w3schools.com/jsref/met_win_cleartimeout.asp\nfunction TimeMgr.ClearTimeout(_id)\n    for k, e in pairs(eventList) do\n        if e.id == _id then\n            table.remove(eventList, k)\n            break\n        end\n    end\nend\n\n--- Clear a timer set with the SetInterval() method, used as ClearTimeout()\n-- @see https://www.w3schools.com/jsref/met_win_clearinterval.asp\nTimeMgr.ClearInterval = TimeMgr.ClearTimeout\n\nreturn TimeMgr\n","m_scriptType":"kModuleScript"}}]},{"class":"cModuleScriptObject","name":"ExampleAModule","guid":[2387834855,1574587674,2670415526,3557140699],"parentGuid":[2325219688,3448000480,2204321929,4246846969],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"ExampleAModule"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":10,"class":"sLuaComponent","data":{"m_luaContent":"--- 样例模块(看后删掉)\n-- @module Module Example A\n-- @copyright Lilith Games, Avatar Team\n-- @author XXX, XXXX\nlocal ExampleA, this = {}, nil\n\n--- 初始化\nfunction ExampleA:Init()\n    info('ExampleA:Init')\n    this = self\n    self:InitListeners()\nend\n\n--- 初始化Game Manager自己的监听事件\nfunction ExampleA:InitListeners()\n    EventUtil.LinkConnects(world.S_Event, ExampleA, 'ExampleA', this)\nend\n\n--- Update函数\n-- @param dt delta time 每帧时间\nfunction ExampleA:Update(dt)\n    --debug(string.format('[测试] 模块:%s, deltaTime = %.4f', 'ExampleA', dt))\nend\n\nreturn ExampleA\n","m_scriptType":"kModuleScript"}}]},{"class":"cFolderObject","name":"C_Module","guid":[2085024476,779046503,2599607412,4053327341],"parentGuid":[2883110320,3875490972,2778882821,1569891889],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"C_Module"}},{"id":40000,"class":"sScriptHelperComponent","data":{}}]},{"class":"cModuleScriptObject","name":"PlayerMgrModule","guid":[1039137540,2610905714,3183561849,1647783672],"parentGuid":[2085024476,779046503,2599607412,4053327341],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"PlayerMgrModule"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":10,"class":"sLuaComponent","data":{"m_luaContent":"--- 游戏客户端主逻辑\n-- @module Game Manager, Client-side\n-- @copyright Lilith Games, Avatar Team\n-- @author XXX, XXXX\nlocal PlayerMgr, this =\n    {\n        dt = 0,\n        tt = 0,\n        isRun = false\n    },\n    nil\n\n--- 初始化\nfunction PlayerMgr:Init()\n    info('PlayerMgr:Init')\n    this = self\n    self:InitListeners()\n\n    -- TODO: 其他客户端模块初始化\n    ExampleB:Init()\r\n\tAnimationMain:Init()\nend\n\n--- 初始化Game Manager自己的监听事件\nfunction PlayerMgr:InitListeners()\n    EventUtil.LinkConnects(localPlayer.C_Event, PlayerMgr, 'PlayerMgr', this)\nend\n\n--- Update函数\n-- @param dt delta time 每帧时间\nfunction PlayerMgr:Update(dt)\n    -- TODO: 其他客户端模块Update\n    ExampleB:Update(dt)\nend\n\nfunction PlayerMgr:StartUpdate()\n    info('PlayerMgr:StartUpdate')\n    if self.isRun then\n        warn('PlayerMgr:StartUpdate 正在运行')\n        return\n    end\n\n    self.isRun = true\n\n    while (self.isRun) do\n        self.dt = wait()\n        self.tt = self.tt + self.dt\n        self:Update(self.dt)\n    end\nend\n\nfunction PlayerMgr:StopUpdate()\n    info('PlayerMgr:StopUpdate')\n    self.isRun = false\nend\n\n--- TEST ONLY 处理ClientExample01Event事件\n-- 函数命名格式为 事件名 + 'Handler'\nfunction PlayerMgr:ClientExample01EventHandler(arg1)\n    debug('收到ClientExample01Event, 参数:', arg1)\n    self:StartUpdate()\nend\n\nreturn PlayerMgr\n","m_scriptType":"kModuleScript"}}]},{"class":"cModuleScriptObject","name":"ExampleBModule","guid":[646356249,1292323580,2768118403,2865367294],"parentGuid":[2085024476,779046503,2599607412,4053327341],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"ExampleBModule"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":10,"class":"sLuaComponent","data":{"m_luaContent":"--- 样例模块(看后删掉)\n-- @module Module Example A\n-- @copyright Lilith Games, Avatar Team\n-- @author XXX, XXXX\nlocal ExampleB, this = {}, nil\n\n--- 初始化\nfunction ExampleB:Init()\n    debug('ExampleB:Init')\n    this = self\n    self:InitListeners()\nend\n\n--- 初始化Game Manager自己的监听事件\nfunction ExampleB:InitListeners()\n    EventUtil.LinkConnects(localPlayer.C_Event, ExampleB, 'ExampleB', this)\nend\n\n--- Update函数\n-- @param dt delta time 每帧时间\nfunction ExampleB:Update(dt)\n    --debug(string.format('[测试] 模块:%s, deltaTime = %.4f', 'ExampleB', dt))\nend\n\n--- TEST ONLY 处理Example02CustomEvent事件\n-- 函数命名格式为 事件名 + 'Handler'\nfunction ExampleB:Example02CustomEventHandler(arg1)\n    debug('收到Example02CustomEvent, 参数:', arg1)\n    localPlayer.Local.FUNC_UIAnimation.StartAnimationEvent:Fire('TestAnimation')\nend\n\nreturn ExampleB\n","m_scriptType":"kModuleScript"}}]},{"class":"cFolderObject","name":"Csv","guid":[2272249561,3378007281,2688214392,3190071702],"parentGuid":[344576033,1668630255,2683907297,2226597768],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"Csv"}},{"id":40000,"class":"sScriptHelperComponent","data":{}}]},{"class":"cTableObject","name":"UIAnimation","guid":[1097962876,3754445060,2192136032,4179300550],"parentGuid":[2272249561,3378007281,2688214392,3190071702],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"UIAnimation"}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":310,"class":"sTableComponent","data":{"m_dataModel":{"m_rowNum":9,"m_columnNum":14,"m_tableData":[["Type","String","Int","String","Boolean","Int","Vector2","Vector2","Vector2","Float","Vector2","Float","String","String"],["","AnimationName","Count","UINode","IsInit","KeyFrame","Size","AnchorsX","AnchorsY","Angle","Offset","Alpha","Tag","Type"],["1","TestAnimation","12","Local.ScreenGUI.JumpButton","TRUE","0","","","","90","0,-100","","",""],["2","TestAnimation","","Local.ScreenGUI.JumpButton","","1","","","","90","0,-100","","Tag1","Linear"],["3","TestAnimation","","Local.ScreenGUI.JumpButton","","10","","","","0.1","0,-1","","","Linear"],["4","TestAnimation","","Local.ScreenGUI.Joystick","TRUE","0","0,1","","","","","","",""],["5","TestAnimation","","Local.ScreenGUI.Joystick","","1","0,1","","","","","","","Linear"],["6","TestAnimation","","Local.ScreenGUI.Joystick","","10","350,350","","","","","","","Linear"],["7","TestAnimation","","Local.ScreenGUI.Joystick","","12","300,300","","","","","","","Linear"]]}}}]},{"class":"cTableObject","name":"Example01","guid":[1009384381,1318601170,2335100178,2096260731],"parentGuid":[2272249561,3378007281,2688214392,3190071702],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"Example01"}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":310,"class":"sTableComponent","data":{"m_dataModel":{"m_rowNum":6,"m_columnNum":4,"m_tableData":[["Type","String","String","Int"],["","level_id","level_name","reward"],["1","easy_01","Level 01","100"],["2","easy_02","Level 02","140"],["3","hard_01","Level 03","280"],["4","hard_02","Level 04","320"]]}}}]},{"class":"cTableObject","name":"Example02","guid":[519619536,3748807551,2763899961,330082025],"parentGuid":[2272249561,3378007281,2688214392,3190071702],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"Example02"}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":310,"class":"sTableComponent","data":{"m_dataModel":{"m_rowNum":6,"m_columnNum":4,"m_tableData":[["Type","String","String","Int"],["","enemy_id","difficulty","hp"],["1","foe_01","easy","100"],["2","foe_01","hard","150"],["3","foe_02","easy","300"],["4","foe_02","hard","400"]]}}}]},{"class":"cFolderObject","name":"S_Event","guid":[3388698598,504056136,2819280548,3600804874],"parentGuid":[1981988479,3555894,2597800867,69741929],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"S_Event"}},{"id":40000,"class":"sScriptHelperComponent","data":{}}]},{"class":"cCustomEventObject","name":"Example01CustomEvent","guid":[1849321353,1174686080,2581212444,423150465],"parentGuid":[3388698598,504056136,2819280548,3600804874],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"Example01CustomEvent"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":511,"class":"sCustomEventComponent","data":{}},{"id":10,"class":"sLuaComponent","data":{"m_luaContent":"--自定义事件脚本, 会监听由FireEventTo系列触发的与该脚本名一样的事件\n--参数(arg1, arg2, arg3 ...) : 为各个事件参数\n","m_scriptType":"kCustomFunction"}}]},{"class":"cCustomEventObject","name":"Example02CustomEvent","guid":[2464372298,3888661849,2219280214,4227873962],"parentGuid":[3388698598,504056136,2819280548,3600804874],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"Example02CustomEvent"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":511,"class":"sCustomEventComponent","data":{}},{"id":10,"class":"sLuaComponent","data":{"m_luaContent":"--自定义事件脚本, 会监听由FireEventTo系列触发的与该脚本名一样的事件\n--参数(arg1, arg2, arg3 ...) : 为各个事件参数\n","m_scriptType":"kCustomFunction"}}]},{"class":"cCustomEventObject","name":"Example03CustomEvent","guid":[3522954919,4107421185,2760879892,839023523],"parentGuid":[3388698598,504056136,2819280548,3600804874],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"Example03CustomEvent"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":511,"class":"sCustomEventComponent","data":{}},{"id":10,"class":"sLuaComponent","data":{"m_luaContent":"--自定义事件脚本, 会监听由FireEventTo系列触发的与该脚本名一样的事件\n--参数(arg1, arg2, arg3 ...) : 为各个事件参数\n","m_scriptType":"kCustomFunction"}}]},{"class":"cFolderObject","name":"S_Code","guid":[3588299831,2838581107,2638019367,1912244102],"parentGuid":[1981988479,3555894,2597800867,69741929],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"S_Code"}},{"id":40000,"class":"sScriptHelperComponent","data":{}}]},{"class":"cScriptObject","name":"ServerMain","guid":[3478165892,3968682922,3091200964,3154749412],"parentGuid":[3588299831,2838581107,2638019367,1912244102],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"ServerMain"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":10,"class":"sLuaComponent","data":{"m_luaContent":"--- 服务器代码入口\n-- @script Server Main Function\n-- @copyright Lilith Games, Avatar Team\n-- @author XXX, XXX\n\nGameMgr:Init()\n"}}]},{"class":"cFolderObject","name":"Test","guid":[1121972396,3387441651,2555498827,995696856],"parentGuid":[3588299831,2838581107,2638019367,1912244102],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"Test"}},{"id":40000,"class":"sScriptHelperComponent","data":{}}]},{"class":"cScriptObject","name":"TestServerMainScript","guid":[2047870622,3659025888,2164427045,478373359],"parentGuid":[1121972396,3387441651,2555498827,995696856],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"TestServerMainScript"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":10,"class":"sLuaComponent","data":{"m_luaContent":"--- TEST:框架服务端测试脚本(用后删)；\n-- @script Test Server Scirpt\n-- @copyright Lilith Games, Avatar Team\n-- @author Yuancheng Zhang\n\nwait(1)\ninvoke(\n    function()\n        NetUtil.Fire_S('Example01CustomEvent')\n    end\n)\n\nwait(1)\ninvoke(\n    function()\n        for _, p in pairs(world:FindPlayers()) do\n            NetUtil.Fire_C('ClientExample01Event', p, p.Name)\n            NetUtil.Fire_C('ClientExample02Event', p)\n        end\n    end\n)\n\nwait(1)\ninvoke(\n    function()\n        NetUtil.Fire_S('Example02CustomEvent')\n    end\n)\n\nwait(1)\ninvoke(\n    function()\n        NetUtil.Fire_S('Example03CustomEvent')\n    end\n)\n"}}]},{"class":"cScriptObject","name":"TestTimeMgrScript","guid":[2274526775,1538082644,2178394526,1746432296],"parentGuid":[1121972396,3387441651,2555498827,995696856],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"TestTimeMgrScript"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":10,"class":"sLuaComponent","data":{"m_luaContent":"--- TEST:时间管理器测试脚本(用后删)\n-- @module Test Time Manager\n-- @copyright Lilith Games, Avatar Team\n-- @author Bingyun Chen, Yuancheng Zhang\n\nTimeMgr.Init()\n\nfunction Test01(_param)\n    print(string.format('Test01: %s', _param))\nend\n\nfunction Test02(_param)\n    print(string.format('Test02: %s', _param))\nend\n\nfunction Test03(a, b, c)\n    print(string.format('Test03: %s, %s, %s', a, b, c))\nend\n\n-- 第2秒打印 Test01\nTimeMgr.SetTimeout(\n    function()\n        Test01(1)\n    end,\n    2\n)\n\n-- 每2秒打印 Test02\nTimeMgr.SetInterval(\n    function()\n        Test02(2)\n    end,\n    2\n)\n\n-- 每3秒打印 Test03\nlocal timerId =\n    TimeMgr.SetInterval(\n    function()\n        Test03(12, 23, 34)\n    end,\n    3\n)\n\nprint(string.format('timerId = %s', timerId))\n\n-- 10秒后取消循环打印 Test03\nwait(10)\nTimeMgr.ClearInterval(timerId)\n"}}]},{"class":"cPrimitiveObject","name":"BaseFloor","guid":[4211227124,399589691,2212667733,3335218667],"parentGuid":[1981988479,3555894,2597800867,69741929],"components":[{"id":0,"class":"sRegularTransform","data":{"m_localPosition":[0.0,-0.20000000298023225,0.0]}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"BaseFloor"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":10,"class":"sBasicShapeComponent","data":{"m_size":[50.0,0.20000000298023225,50.0]}},{"id":12,"class":"sRigidBodyComponent","data":{"m_density":2400.0,"m_frictionRate":0.4000000059604645,"m_rough":0.44999998807907107,"m_restitution":0.44999998807907107}},{"id":13,"class":"sMaterialComponent","data":{"m_uvScale":3.0,"m_materialType":"kSubwayTiles"}},{"id":30,"class":"sRenderComponent","data":{}},{"id":3,"class":"sSizeComponent","data":{}},{"id":666,"class":"sStateSyncComponent","data":{}}]},{"class":"cFolderObject","name":"SpawnLocations","guid":[1803916521,3674621259,2355104850,441818688],"parentGuid":[1981988479,3555894,2597800867,69741929],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"SpawnLocations"}},{"id":40000,"class":"sScriptHelperComponent","data":{}}]},{"class":"cStartPortal","name":"StartPortal00","guid":[362184257,1300644271,2169624314,2670603163],"parentGuid":[1803916521,3674621259,2355104850,441818688],"components":[{"id":0,"class":"sRegularTransform","data":{"m_localPosition":[10.0,0.5,-10.0],"m_localRotation":[0.0,-0.3826834559440613,-0.0,0.9238795042037964]}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"StartPortal00"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":10,"class":"sStartPortalComponent","data":{}}]},{"class":"cStartPortal","name":"StartPortal01","guid":[651144420,800934336,3039799213,1377036607],"parentGuid":[1803916521,3674621259,2355104850,441818688],"components":[{"id":0,"class":"sRegularTransform","data":{"m_localPosition":[10.0,0.5,10.0],"m_localRotation":[0.0,0.9238795638084412,0.0,-0.3826834559440613]}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"StartPortal01"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":10,"class":"sStartPortalComponent","data":{}}]},{"class":"cStartPortal","name":"StartPortal02","guid":[4009425966,1206468687,2439525561,4287493119],"parentGuid":[1803916521,3674621259,2355104850,441818688],"components":[{"id":0,"class":"sRegularTransform","data":{"m_localPosition":[-10.0,0.5,-10.0],"m_localRotation":[0.0,0.3826834559440613,0.0,0.9238795042037964]}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"StartPortal02"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":10,"class":"sStartPortalComponent","data":{}}]},{"class":"cStartPortal","name":"StartPortal03","guid":[3415283602,2930724749,3175953031,3420113780],"parentGuid":[1803916521,3674621259,2355104850,441818688],"components":[{"id":0,"class":"sRegularTransform","data":{"m_localPosition":[-10.0,0.5,10.0],"m_localRotation":[0.0,0.9238795638084412,0.0,0.3826834559440613]}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"StartPortal03"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":10,"class":"sStartPortalComponent","data":{}}]},{"class":"cAudioSource","name":"BGM","guid":[1596674502,2319271992,2900844459,2801180766],"parentGuid":[1981988479,3555894,2597800867,69741929],"components":[{"id":0,"class":"sRegularTransform","data":{"m_localPosition":[1.1754943508222876e-38,1.1754943508222876e-38,1.1754943508222876e-38]}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"BGM"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":10,"class":"sAudioSourceComponent","data":{"m_soundtype":"k2D","m_soundclip":{"m_guid":[0,0,0,0],"m_revision":-1,"m_type":"kGeneric","m_autoGenerated":false}}}]},{"class":"cSkydome","name":"Sky","guid":[3956874685,1991789763,3220541584,1456680764],"parentGuid":[1981988479,3555894,2597800867,69741929],"components":[{"id":0,"class":"sRegularTransform","data":{"m_localPosition":[1.1754943508222876e-38,1.1754943508222876e-38,1.1754943508222876e-38]}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"Sky"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":10,"class":"sSkydomeComponent","data":{"m_front":{"m_guid":[0,0,0,0],"m_revision":-1,"m_type":"kGeneric","m_autoGenerated":false},"m_back":{"m_guid":[0,0,0,0],"m_revision":-1,"m_type":"kGeneric","m_autoGenerated":false},"m_left":{"m_guid":[0,0,0,0],"m_revision":-1,"m_type":"kGeneric","m_autoGenerated":false},"m_right":{"m_guid":[0,0,0,0],"m_revision":-1,"m_type":"kGeneric","m_autoGenerated":false},"m_up":{"m_guid":[0,0,0,0],"m_revision":-1,"m_type":"kGeneric","m_autoGenerated":false},"m_down":{"m_guid":[0,0,0,0],"m_revision":-1,"m_type":"kGeneric","m_autoGenerated":false},"m_ambient":[0.501960813999176,0.501960813999176,0.501960813999176,1.0],"m_latitude":45.0}},{"id":11,"class":"sDateTimeComponent","data":{}},{"id":12,"class":"sFogComponent","data":{}}]},{"class":"cFolderObject","name":"Players","guid":[3397398191,850542637,3138524115,1333674022],"parentGuid":[1981988479,3555894,2597800867,69741929],"components":[{"id":0,"class":"sIdentityTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"Players"}},{"id":40000,"class":"sScriptHelperComponent","data":{}}]},{"class":"cPlayerInstanceSlot","name":"PlayerInstanceSlot","guid":[718760084,1257915969,2962466066,2150526306],"parentGuid":[3397398191,850542637,3138524115,1333674022],"components":[{"id":0,"class":"sRegularTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"PlayerInstanceSlot"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":10,"class":"sPlayerInstanceSlotComponent","data":{"m_archetype":[2229867806,259017539,2476631306,1972820229]}}]},{"class":"cPlayerInstanceSlot","name":"PlayerInstanceSlot","guid":[438081159,4019275113,2394302102,997050187],"parentGuid":[3397398191,850542637,3138524115,1333674022],"components":[{"id":0,"class":"sRegularTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"PlayerInstanceSlot"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":10,"class":"sPlayerInstanceSlotComponent","data":{"m_archetype":[2229867806,259017539,2476631306,1972820229]}}]},{"class":"cPlayerInstanceSlot","name":"PlayerInstanceSlot","guid":[154289415,229392516,2254790969,287930189],"parentGuid":[3397398191,850542637,3138524115,1333674022],"components":[{"id":0,"class":"sRegularTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"PlayerInstanceSlot"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":10,"class":"sPlayerInstanceSlotComponent","data":{"m_archetype":[2229867806,259017539,2476631306,1972820229]}}]},{"class":"cTerrainObject","name":"Terrain","guid":[2381081137,2979483093,3156488065,1492146101],"parentGuid":[1981988479,3555894,2597800867,69741929],"components":[{"id":0,"class":"sRegularTransform","data":{}},{"id":2,"class":"sObjectDataComponent","data":{"m_name":"Terrain"}},{"id":19,"class":"sNetworkComponent","data":{}},{"id":40000,"class":"sScriptHelperComponent","data":{}},{"id":610,"class":"sTerrainComponent","data":{"m_memStreamBuffer":{"m_guid":[0,0,0,0],"m_revision":-1,"m_type":"kGeneric","m_autoGenerated":false},"m_memStreamBuffer2":{"m_guid":[0,0,0,0],"m_revision":-1,"m_type":"kGeneric","m_autoGenerated":false},"m_memWaterStreamBuffer":[{"m_guid":[0,0,0,0],"m_revision":-1,"m_type":"kGeneric","m_autoGenerated":false},{"m_guid":[0,0,0,0],"m_revision":-1,"m_type":"kGeneric","m_autoGenerated":false}],"m_emptyPlaceholder":true}},{"id":13,"class":"sRenderComponent","data":{}},{"id":15,"class":"sRigidBodyComponent","data":{"m_frictionRate":0.44999998807907107,"m_rough":0.4000000059604645,"m_restitution":0.30000001192092898}}]}]}]}